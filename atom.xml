<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>怪咖`Blog</title>
  
  <subtitle>怪咖工作室</subtitle>
  <link href="https://www.wbdqc.cn/atom.xml" rel="self"/>
  
  <link href="https://www.wbdqc.cn/"/>
  <updated>2026-01-23T08:00:29.974Z</updated>
  <id>https://www.wbdqc.cn/</id>
  
  <author>
    <name>怪咖</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>小咖之&quot;怪咖工作室-违背的青春&quot;</title>
    <link href="https://www.wbdqc.cn/posts/1006.html"/>
    <id>https://www.wbdqc.cn/posts/1006.html</id>
    <published>2025-12-10T06:50:51.000Z</published>
    <updated>2026-01-23T08:00:29.974Z</updated>
    
    <content type="html"><![CDATA[<h1 id="小咖之”怪咖工作室-违背的青春”"><a href="#小咖之”怪咖工作室-违背的青春”" class="headerlink" title="小咖之”怪咖工作室-违背的青春”"></a>小咖之”怪咖工作室-违背的青春”</h1><h2 id="项目背景"><a href="#项目背景" class="headerlink" title="项目背景"></a>项目背景</h2><p>为什么想要开发这个项目？</p><p>我原本是打算开发一个博客系统，但是想想之前已经通过<code>CSDN</code>、<code>Hexo</code>、<code>VuePress</code>、<code>VitePress</code>等搭建过静态博客系统了。所以想做个其他类型的项目，把这些年学习、掌握的技术融合到一起开发一个完整的项目。</p><p>在信息爆炸的数字时代，个人成长轨迹常被碎片化信息淹没，学习与工作经历的沉淀往往散落在笔记软件、社交媒体、本地文档等多个载体中，难以形成系统化的成长脉络。传统的记录方式缺乏结构化梳理，既不利于自我复盘，也无法清晰展现个人能力的演进过程。</p><p>“怪咖工作室 - 违背的青春” 诞生于对这种现状的反思：标准化的成长路径虽被广泛认同，却往往束缚个体独特性的表达。许多有价值的探索、试错与突破，因不符合传统评价体系而被忽略或遗忘。同时，技术从业者需要一个既能沉淀专业成长，又能承载个性化思考的专属空间，既作为自我对话的媒介，也作为与同频者交流的窗口。</p><h2 id="项目目标"><a href="#项目目标" class="headerlink" title="项目目标"></a>项目目标</h2><h3 id="1-个人成长系统化沉淀"><a href="#1-个人成长系统化沉淀" class="headerlink" title="1.个人成长系统化沉淀"></a>1.个人成长系统化沉淀</h3><p>构建统一的记录平台，将分散的学习笔记、项目经验、思维碎片整合为结构化的成长档案，形成可追溯、可复盘的个人知识体系。</p><h3 id="2-独特成长轨迹可视化"><a href="#2-独特成长轨迹可视化" class="headerlink" title="2.独特成长轨迹可视化"></a>2.独特成长轨迹可视化</h3><p>通过时间线、技能图谱等形式，直观呈现 “非标准化” 成长路径的价值，凸显那些突破常规的探索与收获，打破传统成长评价框架的局限。</p><h3 id="3-自我迭代与反思工具"><a href="#3-自我迭代与反思工具" class="headerlink" title="3.自我迭代与反思工具"></a>3.自我迭代与反思工具</h3><p>建立周期性复盘机制，通过数据化呈现能力成长曲线，辅助识别优势领域与改进方向，成为持续自我优化的驱动力。</p><h3 id="4-同频者交流窗口"><a href="#4-同频者交流窗口" class="headerlink" title="4.同频者交流窗口"></a>4.同频者交流窗口</h3><p>打造开放但不失个性的展示空间，吸引理念契合的同行者，形成基于真实成长经历的深度交流，而非表面化的社交互动。</p><h3 id="5-技术实践载体"><a href="#5-技术实践载体" class="headerlink" title="5.技术实践载体"></a>5.技术实践载体</h3><p>以项目开发过程本身作为技术能力的实践场，通过全栈开发、架构设计、用户体验优化等环节，实现技术能力与个人品牌的双重沉淀。</p><h2 id="软件架构"><a href="#软件架构" class="headerlink" title="软件架构"></a>软件架构</h2><h3 id="一、架构设计原则"><a href="#一、架构设计原则" class="headerlink" title="一、架构设计原则"></a>一、架构设计原则</h3><p>在设计前明确核心原则，确保架构与项目目标匹配：</p><ol><li><strong>技术融合性</strong> ：覆盖前端、后端、数据库、部署运维等全栈技术，满足 “技术实践载体” 目标；</li><li><strong>数据结构化</strong> ：支持项目经验、技能数据、项目分类等多类型成长信息的存储与关联，契合 “系统化沉淀” 需求；</li><li><strong>可视化友好</strong> ：支持技能图谱、技术栈、数据统计等可视化展现，契合 “独特成长轨迹可视化” 目标；</li><li><strong>日志存储</strong> ：支持登录日志、系统日志、请求日志以及用户行为日志（<code>Redis</code>）存储。</li><li><strong>数据安全</strong> ：数据存储在数据库中，数据安全由数据库提供。</li></ol><h3 id="二、整体架构分层（Node-Vue3-React-前后端分离-）"><a href="#二、整体架构分层（Node-Vue3-React-前后端分离-）" class="headerlink" title="二、整体架构分层（Node + Vue3 + React 前后端分离 ）"></a>二、整体架构分层（Node + Vue3 + React 前后端分离 ）</h3><p>采用 “前后端分离” 架构模式，将系统拆分为 6 层，各层职责清晰、解耦性强，便于独立开发与维护：</p><div class="table-container"><table><thead><tr><th>架构分层</th><th>核心职责</th><th>技术选型建议</th><th>关键产出物</th></tr></thead><tbody><tr><td>1. 前端展示层</td><td>负责用户交互与数据展示，如系统菜单、个人作品、技能展示、项目列表、用户信息等</td><td>Vue3 + Vite5 + Pinia + ECharts + Tailwind CSS + TypeScript + Element Plus</td><td>前端页面、组件库、API 请求封装</td></tr><tr><td>2. 后台管理层</td><td>负责客户端信息管理，如菜单管理、轮播图管理、项目管理、技术栈管理、项目类别管理、用户信息管理等</td><td>React19 + TypeScript + Ant Design + Tailwind CSS + Redux + Recharts +Vite5</td><td>后台界面、组件库、API 请求封装</td></tr><tr><td>3. 接口层（网关）</td><td>统一管理前后端交互接口，处理请求转发、参数校验</td><td>Node + Express</td><td>接口文档（ApiFox）、请求拦截器</td></tr><tr><td>4. 后端服务层</td><td>实现核心业务逻辑，如用户信息管理、项目记录、附件上传、菜单管理、轮播图管理、技术栈管理</td><td>Node + Express + MySQL + Redis + Sequelize + JWT + Joi + Multer + Winston + NodeSchedule</td><td>服务接口、业务逻辑代码、事务管理、日志存储、定时任务、数据统计</td></tr><tr><td>5. 数据持久层</td><td>负责数据存储与查询</td><td>MySQL + Redis</td><td>数据库表结构、SQL 脚本、缓存策略</td></tr><tr><td>6. 部署运维层</td><td>负责项目部署、环境配置、接口代理，确保系统稳定运行</td><td>Nginx + 阿里云 ECS</td><td>Nginx 配置、Pm2</td></tr></tbody></table></div><h2 id="三、详细设计"><a href="#三、详细设计" class="headerlink" title="三、详细设计"></a>三、详细设计</h2><p>详细设计包含以下内容：</p><ol><li><strong>数据库设计</strong>：详细设计数据库表结构、字段含义、数据类型、外键关系E-R图等，确保数据存储与查询效率 optimal。</li><li><strong>接口设计</strong>：详细设计接口，包括请求参数、返回结果、错误码、接口文档等，确保接口清晰、易用。</li><li><strong>业务逻辑设计</strong>：详细设计业务逻辑，包括用户信息管理、项目记录、附件上传、菜单管理、轮播图管理、技术栈管理、项目类别管理、用户信息管理等，确保业务逻辑清晰、可扩展。</li><li><strong>前端页面设计</strong>：详细设计前端页面，包括系统菜单、个人作品、技能展示、项目列表、用户信息等，确保页面清晰、易用。</li><li><strong>后端服务设计</strong>：详细设计后端服务，包括用户信息管理、项目记录、附件上传、菜单管理、轮播图管理、技术栈管理、项目类别管理、用户信息管理等，确保服务清晰、可扩展。</li><li><strong>部署运维设计</strong>：详细设计部署运维，包括项目部署、环境配置、接口代理，确保系统稳定运行。</li></ol><h2 id="四、系统部分图片"><a href="#四、系统部分图片" class="headerlink" title="四、系统部分图片"></a>四、系统部分图片</h2><ul><li><p><strong>客户端</strong><br><img src="https://cdn.jsdelivr.net/npm/gk_drawing_bed/img/wbdqc/wbdqc_web.jpeg" alt="客户端"></p></li><li><p><strong>后台管理</strong><br><img src="https://cdn.jsdelivr.net/npm/gk_drawing_bed/img/wbdqc/wbdqc_mg.jpeg" alt="后台管理"></p></li><li><p><strong>移动端（H5·安卓APP）</strong><br><img src="https://cdn.jsdelivr.net/npm/gk_drawing_bed/img/wbdqc/wbdqc_h5.png" alt="移动端"></p></li><li><p><strong>可视化大屏</strong></p></li></ul><p><img src="https://cdn.jsdelivr.net/npm/gk_drawing_bed/img/wbdqc/wbdqc_datav.png" alt="智能可视化T"><br><img src="https://cdn.jsdelivr.net/npm/gk_drawing_bed/img/wbdqc/wbdqc_datav.gif" alt="智能可视化T"></p><p><img src="https://cdn.jsdelivr.net/npm/gk_drawing_bed/img/wbdqc/wbdqc_datag.png" alt="智能可视化G"><br><img src="https://cdn.jsdelivr.net/npm/gk_drawing_bed/img/wbdqc/wbdqc_datag.gif" alt="智能可视化G"></p><h2 id="四、系统演示"><a href="#四、系统演示" class="headerlink" title="四、系统演示"></a>四、系统演示</h2><ul><li><p><a href="http://gk.wbdqc.top">客户端演示地址:http://gk.wbdqc.top</a></p></li><li><p><a href="http://mg.wbdqc.top">后台演示地址:http://mg.wbdqc.top</a></p></li><li><p><a href="http://gk.wbdqc.top/m">移动端演示地址:http://gk.wbdqc.top/m</a></p></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;小咖之”怪咖工作室-违背的青春”&quot;&gt;&lt;a href=&quot;#小咖之”怪咖工作室-违背的青春”&quot; class=&quot;headerlink&quot; title=&quot;小咖之”怪咖工作室-违背的青春”&quot;&gt;&lt;/a&gt;小咖之”怪咖工作室-违背的青春”&lt;/h1&gt;&lt;h2 id=&quot;项目背景&quot;&gt;&lt;a </summary>
      
    
    
    
    
    <category term="全栈" scheme="https://www.wbdqc.cn/tags/%E5%85%A8%E6%A0%88/"/>
    
  </entry>
  
  <entry>
    <title>动端的无限适配</title>
    <link href="https://www.wbdqc.cn/posts/9b8e7aa3.html"/>
    <id>https://www.wbdqc.cn/posts/9b8e7aa3.html</id>
    <published>2025-12-10T06:48:48.000Z</published>
    <updated>2025-12-10T07:24:05.549Z</updated>
    
    <content type="html"><![CDATA[<h1>移动端无限适配</h1><p>移动端无限适配，就是让移动端网页，在任意分辨率下，都能正常显示。</p><h2 id="淘宝无限适配">淘宝无限适配</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install lib-flexible --save</span><br><span class="line">npm install amfe-flexible --save</span><br></pre></td></tr></table></figure><p>区别：<br>amfe-flexible 是由同一个作者（淘宝 AMFE 团队）在 lib-flexible 之后推出的另一个适配方案。它的目标是进一步优化和改进 lib-flexible 的一些不足，并提供更统一的解决方案。</p><h2 id="gk-flexible-自己的-npm-包">gk-flexible 自己的 npm 包</h2><p><code>gk-flexible</code> 是一个基于 <code>vw</code> 单位的移动端适配方案，主要解决在宽屏上始终以 <code>375px</code> 宽度展示（具体宽度可根据需求调整），而在窄屏上根据屏幕宽度缩放，以保证内容的完整性。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install gk-flexible --save</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;移动端无限适配&lt;/h1&gt;
&lt;p&gt;移动端无限适配，就是让移动端网页，在任意分辨率下，都能正常显示。&lt;/p&gt;
&lt;h2 id=&quot;淘宝无限适配&quot;&gt;淘宝无限适配&lt;/h2&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gu</summary>
      
    
    
    
    <category term="H5" scheme="https://www.wbdqc.cn/categories/H5/"/>
    
    
    <category term="H5" scheme="https://www.wbdqc.cn/tags/H5/"/>
    
    <category term="CSS" scheme="https://www.wbdqc.cn/tags/CSS/"/>
    
    <category term="JavaScript" scheme="https://www.wbdqc.cn/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>node 日志工具集成</title>
    <link href="https://www.wbdqc.cn/posts/10be8d63.html"/>
    <id>https://www.wbdqc.cn/posts/10be8d63.html</id>
    <published>2025-12-10T06:46:14.000Z</published>
    <updated>2025-12-10T07:25:35.321Z</updated>
    
    <content type="html"><![CDATA[<h1>node 日志工具</h1><p>在 Node.js 项目中，日志记录是至关重要的一环，它能帮助开发者追踪系统运行状态、排查错误、分析用户行为等。下面将从日志的作用、常用工具、实现方式及最佳实践等方面，详细介绍 Node.js 项目的日志记录。</p><h2 id="日志的作用">日志的作用</h2><ul><li>错误排查：当程序出现异常时，日志可以提供错误发生的上下文、堆栈信息等，帮助快速定位问题。</li><li>系统监控：通过记录系统的关键指标（如响应时间、内存占用等），可以实时监控系统运行状态，及时发现潜在风险。</li><li>行为分析：记录用户的操作行为（如登录、点击等），有助于分析用户习惯，为产品优化提供依据。</li><li>审计追踪：在一些对安全性要求较高的场景（如金融系统），日志可以用于审计用户操作，确保合规性。</li></ul><h2 id="常用的日志工具">常用的日志工具</h2><ol><li><strong>winston</strong></li></ol><ul><li><p>特点：功能强大、灵活，支持多种日志传输方式（如控制台、文件、数据库等），可以自定义日志格式和级别。</p></li><li><p>安装：<code>npm install winston</code></p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> winston = <span class="built_in">require</span>(<span class="string">&quot;winston&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建日志器</span></span><br><span class="line"><span class="keyword">const</span> logger = winston.<span class="title function_">createLogger</span>(&#123;</span><br><span class="line">  <span class="attr">level</span>: <span class="string">&quot;info&quot;</span>, <span class="comment">// 日志级别，默认info，可选error、warn、info、verbose、debug、silly</span></span><br><span class="line">  <span class="attr">format</span>: winston.<span class="property">format</span>.<span class="title function_">combine</span>(</span><br><span class="line">    winston.<span class="property">format</span>.<span class="title function_">timestamp</span>(), <span class="comment">// 添加时间戳</span></span><br><span class="line">    winston.<span class="property">format</span>.<span class="title function_">json</span>() <span class="comment">// 以JSON格式输出</span></span><br><span class="line">  ),</span><br><span class="line">  <span class="attr">transports</span>: [</span><br><span class="line">    <span class="keyword">new</span> winston.<span class="property">transports</span>.<span class="title class_">Console</span>(), <span class="comment">// 输出到控制台</span></span><br><span class="line">    <span class="keyword">new</span> winston.<span class="property">transports</span>.<span class="title class_">File</span>(&#123; <span class="attr">filename</span>: <span class="string">&quot;error.log&quot;</span>, <span class="attr">level</span>: <span class="string">&quot;error&quot;</span> &#125;), <span class="comment">// 错误日志输出到文件</span></span><br><span class="line">    <span class="keyword">new</span> winston.<span class="property">transports</span>.<span class="title class_">File</span>(&#123; <span class="attr">filename</span>: <span class="string">&quot;combined.log&quot;</span> &#125;), <span class="comment">// 所有日志输出到文件</span></span><br><span class="line">  ],</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用日志器</span></span><br><span class="line">logger.<span class="title function_">error</span>(<span class="string">&quot;这是一个错误日志&quot;</span>);</span><br><span class="line">logger.<span class="title function_">warn</span>(<span class="string">&quot;这是一个警告日志&quot;</span>);</span><br><span class="line">logger.<span class="title function_">info</span>(<span class="string">&quot;这是一个信息日志&quot;</span>);</span><br></pre></td></tr></table></figure><ol start="2"><li><strong>pino</strong></li></ol><ul><li><p>特点：高性能，日志输出格式简洁（默认 JSON 格式），适合在高并发场景下使用。</p></li><li><p>安装：<code>npm install pino</code></p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pino = <span class="built_in">require</span>(<span class="string">&quot;pino&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建日志器</span></span><br><span class="line"><span class="keyword">const</span> logger = <span class="title function_">pino</span>(</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">level</span>: <span class="string">&quot;info&quot;</span>,</span><br><span class="line">    <span class="attr">timestamp</span>: <span class="function">() =&gt;</span> <span class="string">`,&quot;time&quot;:&quot;<span class="subst">$&#123;<span class="keyword">new</span> <span class="built_in">Date</span>().toISOString()&#125;</span>&quot;`</span>, <span class="comment">// 自定义时间戳格式</span></span><br><span class="line">  &#125;,</span><br><span class="line">  pino.<span class="title function_">destination</span>(<span class="string">&quot;app.log&quot;</span>)</span><br><span class="line">); <span class="comment">// 输出到文件</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用日志器</span></span><br><span class="line">logger.<span class="title function_">error</span>(<span class="string">&quot;错误信息&quot;</span>);</span><br><span class="line">logger.<span class="title function_">info</span>(<span class="string">&quot;信息内容&quot;</span>);</span><br></pre></td></tr></table></figure><ol start="3"><li><strong>morgan</strong></li></ol><ul><li><p>特点：主要用于 HTTP 服务器的日志记录，能记录请求方法、URL、状态码、响应时间等信息，常与 Express 框架配合使用。</p></li><li><p>安装：<code>npm install morgan</code></p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&quot;express&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> morgan = <span class="built_in">require</span>(<span class="string">&quot;morgan&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用morgan记录日志，输出到控制台</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="title function_">morgan</span>(<span class="string">&quot;combined&quot;</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 也可以输出到文件</span></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> accessLogStream = fs.<span class="title function_">createWriteStream</span>(</span><br><span class="line">  path.<span class="title function_">join</span>(__dirname, <span class="string">&quot;access.log&quot;</span>),</span><br><span class="line">  &#123; <span class="attr">flags</span>: <span class="string">&quot;a&quot;</span> &#125;</span><br><span class="line">);</span><br><span class="line">app.<span class="title function_">use</span>(<span class="title function_">morgan</span>(<span class="string">&quot;combined&quot;</span>, &#123; <span class="attr">stream</span>: accessLogStream &#125;));</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&quot;/&quot;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&quot;Hello World!&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">3000</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Server is running on port 3000&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><ol start="4"><li><strong>log4js</strong></li></ol><p>log4js 是 Node.js 生态中一款功能丰富的日志管理工具，灵感源自 Java 的 log4j，提供了灵活的日志配置、多种输出方式和分级管理能力，广泛应用于各类 Node.js 项目中。</p><ul><li>安装：<code>npm install log4js</code></li></ul><p><strong>核心特性</strong></p><ul><li>多输出目标（Appenders）<br>支持将日志输出到控制台、文件、数据库、邮件等多种目标，且可同时配置多个输出源。</li><li>日志分级<br>遵循标准日志级别（从高到低）：trace &lt; debug &lt; info &lt; warn &lt; error &lt; fatal，可通过配置过滤不同级别的日志。</li><li>日志格式自定义<br>支持自定义日志格式（如添加时间戳、日志级别、模块名等），也可使用内置格式（如 JSON 格式、彩色控制台格式）。</li><li>日志轮转<br>自动切割大日志文件（按大小、时间），避免单个日志文件过大，同时支持压缩旧日志。</li><li>配置灵活<br>可通过代码或配置文件（JSON/JS）定义日志行为，便于环境切换（开发 / 生产）。</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> log4js = <span class="built_in">require</span>(<span class="string">&quot;log4js&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 配置日志：输出到控制台和文件</span></span><br><span class="line">log4js.<span class="title function_">configure</span>(&#123;</span><br><span class="line">  <span class="attr">appenders</span>: &#123;</span><br><span class="line">    <span class="attr">console</span>: &#123; <span class="attr">type</span>: <span class="string">&quot;console&quot;</span> &#125;, <span class="comment">// 控制台输出</span></span><br><span class="line">    <span class="attr">file</span>: &#123; <span class="attr">type</span>: <span class="string">&quot;file&quot;</span>, <span class="attr">filename</span>: <span class="string">&quot;app.log&quot;</span> &#125;, <span class="comment">// 文件输出</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">categories</span>: &#123;</span><br><span class="line">    <span class="attr">default</span>: &#123; <span class="attr">appenders</span>: [<span class="string">&quot;console&quot;</span>, <span class="string">&quot;file&quot;</span>], <span class="attr">level</span>: <span class="string">&quot;info&quot;</span> &#125;, <span class="comment">// 默认日志类别</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取日志实例</span></span><br><span class="line"><span class="keyword">const</span> logger = log4js.<span class="title function_">getLogger</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出不同级别日志</span></span><br><span class="line">logger.<span class="title function_">trace</span>(<span class="string">&quot;追踪信息（最低级别）&quot;</span>);</span><br><span class="line">logger.<span class="title function_">debug</span>(<span class="string">&quot;调试信息&quot;</span>);</span><br><span class="line">logger.<span class="title function_">info</span>(<span class="string">&quot;普通信息&quot;</span>);</span><br><span class="line">logger.<span class="title function_">warn</span>(<span class="string">&quot;警告信息&quot;</span>);</span><br><span class="line">logger.<span class="title function_">error</span>(<span class="string">&quot;错误信息&quot;</span>);</span><br><span class="line">logger.<span class="title function_">fatal</span>(<span class="string">&quot;致命错误信息（最高级别）&quot;</span>);</span><br></pre></td></tr></table></figure><h2 id="Node-Express-日志工具">Node + Express 日志工具</h2><p>在 Node.js + Express 项目中，日志插件的选择需要兼顾 HTTP 请求日志 和 业务逻辑日志 两方面。结合 Express 框架的特性，推荐以下组合方案：</p><h4 id="1-核心推荐：morgan-winston">1. 核心推荐：morgan + winston</h4><ul><li>morgan：专注处理 HTTP 请求日志<br>作为 Express 官方推荐的中间件，它能完美记录请求方法、URL、状态码、响应时间、客户端 IP 等 HTTP 特有信息，配置简单且与 Express 无缝集成。</li><li>winston：处理业务日志和错误日志<br>负责记录代码中的业务逻辑日志（如用户操作、数据变更）、错误堆栈、系统状态等，支持多输出目标（文件、控制台、数据库）和灵活的日志级别控制。</li></ul><p><strong>1.安装</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install morgan winston winston-daily-rotate-file</span><br></pre></td></tr></table></figure><p><strong>2.配置（logger.js）</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> winston = <span class="built_in">require</span>(<span class="string">&quot;winston&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">DailyRotateFile</span> = <span class="built_in">require</span>(<span class="string">&quot;winston-daily-rotate-file&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> morgan = <span class="built_in">require</span>(<span class="string">&quot;morgan&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 确保日志目录存在</span></span><br><span class="line"><span class="keyword">const</span> logDir = path.<span class="title function_">join</span>(__dirname, <span class="string">&quot;logs&quot;</span>);</span><br><span class="line"><span class="keyword">if</span> (!fs.<span class="title function_">existsSync</span>(logDir)) &#123;</span><br><span class="line">  fs.<span class="title function_">mkdirSync</span>(logDir);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. 配置 winston（业务日志）</span></span><br><span class="line"><span class="keyword">const</span> businessLogger = winston.<span class="title function_">createLogger</span>(&#123;</span><br><span class="line">  <span class="attr">level</span>: process.<span class="property">env</span>.<span class="property">NODE_ENV</span> === <span class="string">&quot;production&quot;</span> ? <span class="string">&quot;info&quot;</span> : <span class="string">&quot;debug&quot;</span>,</span><br><span class="line">  <span class="attr">format</span>: winston.<span class="property">format</span>.<span class="title function_">combine</span>(</span><br><span class="line">    winston.<span class="property">format</span>.<span class="title function_">timestamp</span>(),</span><br><span class="line">    winston.<span class="property">format</span>.<span class="title function_">json</span>()</span><br><span class="line">  ),</span><br><span class="line">  <span class="attr">transports</span>: [</span><br><span class="line">    <span class="comment">// 控制台输出（开发环境）</span></span><br><span class="line">    <span class="keyword">new</span> winston.<span class="property">transports</span>.<span class="title class_">Console</span>(&#123;</span><br><span class="line">      <span class="attr">format</span>: winston.<span class="property">format</span>.<span class="title function_">combine</span>(</span><br><span class="line">        winston.<span class="property">format</span>.<span class="title function_">colorize</span>(),</span><br><span class="line">        winston.<span class="property">format</span>.<span class="title function_">simple</span>()</span><br><span class="line">      ),</span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="comment">// 按日期轮转的文件输出（生产环境）</span></span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">DailyRotateFile</span>(&#123;</span><br><span class="line">      <span class="attr">filename</span>: path.<span class="title function_">join</span>(logDir, <span class="string">&quot;business-%DATE%.log&quot;</span>),</span><br><span class="line">      <span class="attr">datePattern</span>: <span class="string">&quot;YYYY-MM-DD&quot;</span>,</span><br><span class="line">      <span class="attr">maxSize</span>: <span class="string">&quot;20m&quot;</span>, <span class="comment">// 单个文件最大20MB</span></span><br><span class="line">      <span class="attr">maxFiles</span>: <span class="string">&quot;14d&quot;</span>, <span class="comment">// 保留14天日志</span></span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. 配置 morgan（HTTP 请求日志）</span></span><br><span class="line"><span class="comment">// 创建 HTTP 日志的输出流（接入 winston）</span></span><br><span class="line"><span class="keyword">const</span> httpLogStream = winston</span><br><span class="line">  .<span class="title function_">createLogger</span>(&#123;</span><br><span class="line">    <span class="attr">transports</span>: [</span><br><span class="line">      <span class="keyword">new</span> <span class="title class_">DailyRotateFile</span>(&#123;</span><br><span class="line">        <span class="attr">filename</span>: path.<span class="title function_">join</span>(logDir, <span class="string">&quot;http-%DATE%.log&quot;</span>),</span><br><span class="line">        <span class="attr">datePattern</span>: <span class="string">&quot;YYYY-MM-DD&quot;</span>,</span><br><span class="line">        <span class="attr">maxSize</span>: <span class="string">&quot;20m&quot;</span>,</span><br><span class="line">        <span class="attr">maxFiles</span>: <span class="string">&quot;14d&quot;</span>,</span><br><span class="line">      &#125;),</span><br><span class="line">    ],</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">stream</span>(&#123; <span class="attr">level</span>: <span class="string">&quot;info&quot;</span> &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// morgan 中间件（格式化 HTTP 日志）</span></span><br><span class="line"><span class="keyword">const</span> httpLogger = <span class="title function_">morgan</span>(<span class="string">&quot;combined&quot;</span>, &#123; <span class="attr">stream</span>: httpLogStream &#125;);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  businessLogger, <span class="comment">// 业务日志实例</span></span><br><span class="line">  httpLogger, <span class="comment">// HTTP 日志中间件</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><strong>3.在 Express 中使用：</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&quot;express&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123; businessLogger, httpLogger &#125; = <span class="built_in">require</span>(<span class="string">&quot;./logger&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 应用 HTTP 日志中间件</span></span><br><span class="line">app.<span class="title function_">use</span>(httpLogger);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 业务逻辑示例</span></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&quot;/&quot;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  businessLogger.<span class="title function_">info</span>(<span class="string">&quot;用户访问首页&quot;</span>, &#123; <span class="attr">userAgent</span>: req.<span class="property">headers</span>[<span class="string">&quot;user-agent&quot;</span>] &#125;);</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&quot;Hello World&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&quot;/error&quot;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;模拟错误&quot;</span>);</span><br><span class="line">  &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">    businessLogger.<span class="title function_">error</span>(<span class="string">&quot;发生错误&quot;</span>, &#123;</span><br><span class="line">      <span class="attr">message</span>: err.<span class="property">message</span>,</span><br><span class="line">      <span class="attr">stack</span>: err.<span class="property">stack</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">    res.<span class="title function_">status</span>(<span class="number">500</span>).<span class="title function_">send</span>(<span class="string">&quot;服务器错误&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">3000</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  businessLogger.<span class="title function_">info</span>(<span class="string">&quot;服务器启动&quot;</span>, &#123; <span class="attr">port</span>: <span class="number">3000</span>, <span class="attr">env</span>: process.<span class="property">env</span>.<span class="property">NODE_ENV</span> &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p><strong>方案优势</strong></p><ul><li>职责分离：morgan 专注 HTTP 细节，winston 处理业务逻辑，日志结构更清晰。</li><li>环境适配：开发环境日志输出到控制台（带颜色），生产环境自动轮转文件（避免磁盘占满）。</li><li>可扩展性：winston 支持对接 Elasticsearch、Sentry 等工具，便于日志分析和告警。</li><li>易用性：无需重复造轮子，现有中间件和工具链成熟稳定。</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;node 日志工具&lt;/h1&gt;
&lt;p&gt;在 Node.js 项目中，日志记录是至关重要的一环，它能帮助开发者追踪系统运行状态、排查错误、分析用户行为等。下面将从日志的作用、常用工具、实现方式及最佳实践等方面，详细介绍 Node.js 项目的日志记录。&lt;/p&gt;
&lt;h2 id=&quot;</summary>
      
    
    
    
    <category term="Node" scheme="https://www.wbdqc.cn/categories/Node/"/>
    
    
    <category term="Node" scheme="https://www.wbdqc.cn/tags/Node/"/>
    
    <category term="日志" scheme="https://www.wbdqc.cn/tags/%E6%97%A5%E5%BF%97/"/>
    
  </entry>
  
  <entry>
    <title>Linux 安装 Redis</title>
    <link href="https://www.wbdqc.cn/posts/f82920f5.html"/>
    <id>https://www.wbdqc.cn/posts/f82920f5.html</id>
    <published>2025-12-10T06:38:44.000Z</published>
    <updated>2025-12-10T07:26:17.259Z</updated>
    
    <content type="html"><![CDATA[<h1>Linux 安装 Redis</h1><p>在 Linux 系统上安装 Redis 服务可以通过包管理器或源码编译两种方式，以下是详细步骤：</p><h2 id="包管理器安装">包管理器安装</h2><p>适用于 Ubuntu/Debian 或 CentOS/RHEL 系统，简单快捷：</p><h3 id="Ubuntu-Debian-系统：">Ubuntu/Debian 系统：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 更新包索引</span></span><br><span class="line">sudo apt update</span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装 Redis 服务器</span></span><br><span class="line">sudo apt install redis-server</span><br><span class="line"></span><br><span class="line"><span class="comment"># 启动 Redis 服务</span></span><br><span class="line">sudo systemctl start redis-server</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置开机自启动</span></span><br><span class="line">sudo systemctl <span class="built_in">enable</span> redis-server</span><br><span class="line"></span><br><span class="line"><span class="comment"># 检查服务状态</span></span><br><span class="line">sudo systemctl status redis-server</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="CentOS-RHEL-系统：">CentOS/RHEL 系统：</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装 EPEL 仓库（如果未安装）</span></span><br><span class="line"><span class="comment"># 也有可能是其他仓库，请自行检查</span></span><br><span class="line">sudo yum install epel-release</span><br><span class="line"><span class="comment"># 小编已经安装过epel-aliyuncs-release，所以可以忽略这一步</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装 Redis</span></span><br><span class="line">sudo yum install redis</span><br><span class="line"></span><br><span class="line"><span class="comment"># 启动 Redis 服务</span></span><br><span class="line">sudo systemctl start redis</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置开机自启动</span></span><br><span class="line">sudo systemctl <span class="built_in">enable</span> redis</span><br><span class="line"></span><br><span class="line"><span class="comment"># 检查服务状态</span></span><br><span class="line">sudo systemctl status redis</span><br></pre></td></tr></table></figure><h2 id="源码编译安装">源码编译安装</h2><p>适用于其他 Linux 发行版或系统，需要先安装依赖库，然后编译安装：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装依赖</span></span><br><span class="line">sudo apt update &amp;&amp; sudo apt install build-essential tcl  <span class="comment"># Ubuntu/Debian</span></span><br><span class="line"><span class="comment"># 或 for CentOS/RHEL:</span></span><br><span class="line"><span class="comment"># sudo yum install gcc make</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 下载最新稳定版 Redis（请替换为最新版本号）</span></span><br><span class="line">wget http://download.redis.io/releases/redis-7.2.4.tar.gz</span><br><span class="line"></span><br><span class="line"><span class="comment"># 解压</span></span><br><span class="line">tar xzf redis-7.2.4.tar.gz</span><br><span class="line"></span><br><span class="line"><span class="comment"># 进入目录</span></span><br><span class="line"><span class="built_in">cd</span> redis-7.2.4</span><br><span class="line"></span><br><span class="line"><span class="comment"># 编译</span></span><br><span class="line">make</span><br><span class="line"></span><br><span class="line"><span class="comment"># 测试编译是否正确（可选）</span></span><br><span class="line">make <span class="built_in">test</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装</span></span><br><span class="line">sudo make install</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建配置文件目录和数据目录</span></span><br><span class="line">sudo <span class="built_in">mkdir</span> -p /etc/redis /var/lib/redis</span><br><span class="line"></span><br><span class="line"><span class="comment"># 复制配置文件</span></span><br><span class="line">sudo <span class="built_in">cp</span> redis.conf /etc/redis/</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>在配置文件中修改以下关键设置：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># 监听地址，允许远程连接（如果需要）</span><br><span class="line">bind 0.0.0.0</span><br><span class="line"></span><br><span class="line"># 守护进程模式</span><br><span class="line">daemonize yes</span><br><span class="line"></span><br><span class="line"># 数据存储目录</span><br><span class="line">dir /var/lib/redis</span><br><span class="line"></span><br><span class="line"># 日志文件</span><br><span class="line">logfile /var/log/redis/redis-server.log</span><br></pre></td></tr></table></figure><p>创建系统服务文件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nano /etc/systemd/system/redis.service</span><br></pre></td></tr></table></figure><p>将以下内容粘贴进去并保存：</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[Unit]</span></span><br><span class="line"><span class="attr">Description</span>=Redis In-Memory Data Store</span><br><span class="line"><span class="attr">After</span>=network.target</span><br><span class="line"></span><br><span class="line"><span class="section">[Service]</span></span><br><span class="line"><span class="attr">User</span>=redis</span><br><span class="line"><span class="attr">Group</span>=redis</span><br><span class="line"><span class="attr">ExecStart</span>=/usr/local/bin/redis-server /etc/redis/redis.conf</span><br><span class="line"><span class="attr">ExecStop</span>=/usr/local/bin/redis-cli shutdown</span><br><span class="line"><span class="attr">Restart</span>=always</span><br><span class="line"></span><br><span class="line"><span class="section">[Install]</span></span><br><span class="line"><span class="attr">WantedBy</span>=multi-user.target</span><br></pre></td></tr></table></figure><p>完成安装：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建 redis 用户和组</span></span><br><span class="line">sudo adduser --system --group --no-create-home redis</span><br><span class="line">sudo <span class="built_in">chown</span> -R redis:redis /var/lib/redis</span><br><span class="line"></span><br><span class="line"><span class="comment"># 启动服务并设置开机自启</span></span><br><span class="line">sudo systemctl start redis</span><br><span class="line">sudo systemctl <span class="built_in">enable</span> redis</span><br></pre></td></tr></table></figure><p>验证安装</p><h1>连接 Redis 服务器</h1><p>redis-cli</p><h1>测试命令</h1><p>ping # 应返回 PONG</p><h1>退出</h1><p>exit</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">常用命令：</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">```bash</span><br><span class="line"># 启动 Redis</span><br><span class="line">sudo systemctl start redis</span><br><span class="line"></span><br><span class="line"># 停止 Redis</span><br><span class="line">sudo systemctl stop redis</span><br><span class="line"></span><br><span class="line"># 重启 Redis</span><br><span class="line">sudo systemctl restart redis</span><br><span class="line"></span><br><span class="line"># 查看 Redis 状态</span><br><span class="line">sudo systemctl status redis</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;Linux 安装 Redis&lt;/h1&gt;
&lt;p&gt;在 Linux 系统上安装 Redis 服务可以通过包管理器或源码编译两种方式，以下是详细步骤：&lt;/p&gt;
&lt;h2 id=&quot;包管理器安装&quot;&gt;包管理器安装&lt;/h2&gt;
&lt;p&gt;适用于 Ubuntu/Debian 或 CentOS/RH</summary>
      
    
    
    
    <category term="运维" scheme="https://www.wbdqc.cn/categories/%E8%BF%90%E7%BB%B4/"/>
    
    
    <category term="运维" scheme="https://www.wbdqc.cn/tags/%E8%BF%90%E7%BB%B4/"/>
    
    <category term="Linux" scheme="https://www.wbdqc.cn/tags/Linux/"/>
    
    <category term="Redis" scheme="https://www.wbdqc.cn/tags/Redis/"/>
    
  </entry>
  
  <entry>
    <title>node 打包工具</title>
    <link href="https://www.wbdqc.cn/posts/3247de5d.html"/>
    <id>https://www.wbdqc.cn/posts/3247de5d.html</id>
    <published>2025-12-10T06:37:23.000Z</published>
    <updated>2025-12-10T06:44:59.875Z</updated>
    
    <content type="html"><![CDATA[<h1>node 打包工具</h1><p>痛点：源代码暴露在服务器上，如果服务器被入侵，源代码可能泄露</p><h2 id="解决方案—打包工具">解决方案—打包工具</h2><h3 id="1-pkg">1.pkg</h3><ul><li>特点：简单易用，支持将 Node.js 应用打包为 Windows、Linux、macOS 平台的可执行文件，无需安装 Node.js 即可运行。</li></ul><h4 id="使用教程">使用教程</h4><ul><li>安装：<code>npm install -g pkg</code></li><li>打包：</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 打包当前平台（根据运行命令的系统自动识别）</span></span><br><span class="line">pkg index.js</span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定多平台打包（Windows、Linux、macOS）</span></span><br><span class="line">pkg -t node18-win-x64,node18-linux-x64,node18-macos-x64 index.js</span><br></pre></td></tr></table></figure><p>注意：pkg 默认只会打包你的源码和相关依赖，node_modules 中的依赖默认不会被自动包含，尤其是需要动态加载的模块。如果需要包含依赖，可以使用 <code>--include</code> 参数指定依赖文件。</p><h3 id="2-nexe">2. nexe</h3><ul><li>特点：与 pkg 类似，但更灵活，支持自定义 Node.js 版本和编译选项，适合需要深度定制的场景</li><li>安装：<code>npm install -g nexe</code></li><li>打包：</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 打包当前平台</span></span><br><span class="line">nexe index.js</span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定输出文件名和平台</span></span><br><span class="line">nexe index.js -o myapp --target windows-x64-18.17.0</span><br></pre></td></tr></table></figure><p>高级配置（通过 <code>nexe.config.json</code>）：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;input&quot;</span><span class="punctuation">:</span> <span class="string">&quot;index.js&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;output&quot;</span><span class="punctuation">:</span> <span class="string">&quot;dist/myapp&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;target&quot;</span><span class="punctuation">:</span> <span class="string">&quot;linux-x64-18.17.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;resources&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;assets/**/*&quot;</span><span class="punctuation">]</span> <span class="comment">// 打包静态资源</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p><strong><em>1-2 都需要借助<code>github</code></em></strong></p><h3 id="3-electron-packager">3. electron-packager</h3><ul><li>特点：专为 Electron 应用设计，可将前端 + Node.js 混合应用打包为桌面程序，支持多平台。</li><li>安装：<code>npm install -g electron-packager</code></li><li>使用教程:</li></ul><ol><li>假设已有一个 Electron 项目（目录结构如下）：</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">my-electron-app/</span><br><span class="line">├── main.js        # Electron 主进程</span><br><span class="line">├── package.json</span><br><span class="line">└── index.html     # 渲染进程页面</span><br></pre></td></tr></table></figure><ol start="2"><li>打包命令：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 打包当前平台（名称、版本从 package.json 读取）</span></span><br><span class="line">electron-packager . --out=dist</span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定平台和架构</span></span><br><span class="line">electron-packager . MyApp --platform=win32 --<span class="built_in">arch</span>=x64 --out=dist</span><br></pre></td></tr></table></figure><ol start="3"><li>打包后在 dist 目录生成对应平台的应用文件夹，可直接运行。</li></ol><h3 id="4-webpack-vercel-ncc">4. webpack + @vercel/ncc</h3><ul><li><p>特点：适合将 Node.js 应用打包为单个 JS 文件（非可执行文件），便于部署到服务器（需 Node.js 环境）。</p><ul><li>合并所有依赖到单个文件</li><li>支持 ES 模块和 CommonJS</li><li>自动处理 JSON、CSS 等资源</li><li>移除未使用的代码（Tree-shaking）</li></ul></li><li><p>安装：·<code>npm install -g @vercel/ncc</code></p></li><li><p>使用教程：</p></li></ul><ol><li>对单个文件打包：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ncc build index.js -o dist</span><br></pre></td></tr></table></figure><p>输出目录 dist 中会生成 index.js（合并所有依赖的单个文件）。</p><ol start="2"><li>运行打包后的文件：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node dist/index.js</span><br></pre></td></tr></table></figure><ol start="3"><li>对多个文件打包：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ncc build src/index.js src/utils.js -o dist</span><br></pre></td></tr></table></figure><p>输出目录 dist 中会生成 index.js 和 utils.js（合并所有依赖的单个文件）。</p><h4 id="灵活配置方式">灵活配置方式</h4><p>ncc 允许通过两种方式扩展配置：</p><ol><li>命令行参数（简单配置）</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 指定入口文件和输出目录</span></span><br><span class="line">ncc build src/main.js -o dist/out</span><br><span class="line"></span><br><span class="line"><span class="comment"># 生成 source map（便于调试）</span></span><br><span class="line">ncc build src/index.js --source-map</span><br><span class="line"></span><br><span class="line"><span class="comment">#  watch 模式（文件变化自动重新打包）</span></span><br><span class="line">ncc build src/index.js --watch</span><br><span class="line"></span><br><span class="line"><span class="comment"># 保留注释（默认会移除注释）</span></span><br><span class="line">ncc build src/index.js --comments</span><br><span class="line"></span><br><span class="line"><span class="comment"># 外部化依赖（不打包指定模块，运行时仍需安装）</span></span><br><span class="line">ncc build src/index.js --external express --external mongoose</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义环境变量</span></span><br><span class="line">ncc build src/index.js --define process.env.NODE_ENV=production</span><br></pre></td></tr></table></figure><ol start="2"><li>自定义 Webpack 配置文件（复杂配置）</li></ol><ul><li>在项目根目录创建 ncc.config.js：</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">// 扩展 Webpack 配置</span></span><br><span class="line">  <span class="attr">webpack</span>: <span class="function">(<span class="params">config, &#123; buildId, dev, isServer, defaultLoaders, webpack &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 1. 添加自定义 loader 处理特定文件</span></span><br><span class="line">    config.<span class="property">module</span>.<span class="property">rules</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line">      <span class="attr">test</span>: <span class="regexp">/\.csv$/</span>,</span><br><span class="line">      <span class="attr">use</span>: [<span class="string">&quot;csv-loader&quot;</span>], <span class="comment">// 需要先安装 csv-loader: npm i csv-loader</span></span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2. 处理静态资源（如图片）</span></span><br><span class="line">    config.<span class="property">module</span>.<span class="property">rules</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line">      <span class="attr">test</span>: <span class="regexp">/\.(png|jpe?g|gif)$/i</span>,</span><br><span class="line">      <span class="attr">type</span>: <span class="string">&quot;asset/inline&quot;</span>, <span class="comment">// 内嵌为 base64</span></span><br><span class="line">      <span class="comment">// 或输出为文件：type: &#x27;asset/resource&#x27;, generator: &#123; filename: &#x27;images/[hash][ext]&#x27; &#125;</span></span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3. 添加 Webpack 插件</span></span><br><span class="line">    config.<span class="property">plugins</span>.<span class="title function_">push</span>(</span><br><span class="line">      <span class="keyword">new</span> webpack.<span class="title class_">BannerPlugin</span>(&#123;</span><br><span class="line">        <span class="attr">banner</span>: <span class="string">&quot;Copyright © 2023 My Project&quot;</span>, <span class="comment">// 给打包文件添加版权注释</span></span><br><span class="line">        <span class="attr">raw</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">entryOnly</span>: <span class="literal">true</span>,</span><br><span class="line">      &#125;)</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 4. 配置别名（简化导入路径）</span></span><br><span class="line">    config.<span class="property">resolve</span>.<span class="property">alias</span> = &#123;</span><br><span class="line">      ...config.<span class="property">resolve</span>.<span class="property">alias</span>,</span><br><span class="line">      <span class="string">&quot;@utils&quot;</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;src/utils&quot;</span>),</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 5. 排除特定模块不被打包</span></span><br><span class="line">    config.<span class="property">externals</span>.<span class="title function_">push</span>(<span class="string">&quot;pg-native&quot;</span>); <span class="comment">// 类似 --external 命令行参数</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> config; <span class="comment">// 必须返回修改后的配置</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 配置输出目录结构</span></span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="comment">// 自定义文件名（默认是 index.js）</span></span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&quot;main.js&quot;</span>,</span><br><span class="line">    <span class="comment">// 自定义文件夹（默认是 dist）</span></span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;build&quot;</span>,</span><br><span class="line">    <span class="comment">// 公共路径（如果部署到 CDN）</span></span><br><span class="line">    <span class="attr">publicPath</span>: <span class="string">&quot;/assets/&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ul><li>安装依赖<br>如果使用了自定义 loader 或插件，需要安装对应的依赖：</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install csv-loader webpack --save-dev</span><br></pre></td></tr></table></figure><ul><li>打包</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ncc build src/index.js</span><br></pre></td></tr></table></figure><ul><li>结合 package.json 脚本</li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;build&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ncc build src/index.js&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;build:watch&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ncc build src/index.js --watch&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;build:prod&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ncc build src/index.js --source-map --define process.env.NODE_ENV=production&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h2 id="选择建议">选择建议</h2><ul><li>简单场景（纯 Node.js 脚本）：优先用 pkg 或 nexe。</li><li>桌面应用（带 UI）：用 electron-packager。</li><li>服务器部署（需保留 Node.js 依赖）：用 webpack + ncc。</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;node 打包工具&lt;/h1&gt;
&lt;p&gt;痛点：源代码暴露在服务器上，如果服务器被入侵，源代码可能泄露&lt;/p&gt;
&lt;h2 id=&quot;解决方案—打包工具&quot;&gt;解决方案—打包工具&lt;/h2&gt;
&lt;h3 id=&quot;1-pkg&quot;&gt;1.pkg&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;特点：简单易用，支持将 No</summary>
      
    
    
    
    <category term="Node" scheme="https://www.wbdqc.cn/categories/Node/"/>
    
    
    <category term="Node" scheme="https://www.wbdqc.cn/tags/Node/"/>
    
  </entry>
  
  <entry>
    <title>Express、Koa、Egg、Nest.js 的区别</title>
    <link href="https://www.wbdqc.cn/posts/458b4c86.html"/>
    <id>https://www.wbdqc.cn/posts/458b4c86.html</id>
    <published>2025-12-10T06:36:57.000Z</published>
    <updated>2025-12-10T07:24:58.024Z</updated>
    
    <content type="html"><![CDATA[<h1>Express、Koa、Egg、Nest.js 的区别</h1><p>在 Node.js 后端开发中，Express、Koa、Egg.js、Nest.js 是常用框架，它们各有特点和适用场景，以下从核心特性、优缺点、适用场景等方面对比分析，并给出推荐建议：</p><h2 id="1-Express：最经典的轻量框架">1. Express：最经典的轻量框架</h2><h3 id="核心特性：">核心特性：</h3><p>诞生于 2010 年，是 Node.js 生态中最老牌的 Web 框架之一，以 “极简主义” 为设计理念，仅提供路由、中间件、请求处理等核心功能，无过多内置约束，开发者可自由扩展。中间件机制为 “线性同步”（即按顺序执行，需手动调用next()）。</p><h3 id="优点：">优点：</h3><ul><li>轻量灵活，学习成本低，文档丰富，社区成熟，第三方中间件生态极丰富（如cors、multer等）。</li><li>适合快速搭建小型项目或 API 服务，对项目结构无强制要求，自由度高。</li></ul><h3 id="缺点：">缺点：</h3><ul><li>缺乏内置的规范和最佳实践，大型项目需手动设计架构（如分层、路由管理等），易导致代码混乱。</li><li>中间件嵌套过深时可能出现 “回调地狱”（虽可通过async/await缓解，但框架本身不解决）。</li></ul><h3 id="适用场景：">适用场景：</h3><p>小型项目、快速原型开发、简单 API 服务，或需要高度定制化架构的场景。</p><h2 id="2-Koa：Express-的-“升级版”，更优雅的中间件">2.  Koa：Express 的 “升级版”，更优雅的中间件</h2><h3 id="核心特性：-2">核心特性：</h3><p>由 Express 原团队开发（2013 年），主打 “更优雅的中间件机制”，采用洋葱模型（中间件执行顺序为 “入栈→出栈”，支持async/await，天然解决回调地狱）。相比 Express，移除了内置路由（需通过koa-router等第三方库实现），更精简，专注于中间件流程控制。</p><h3 id="优点：-2">优点：</h3><ul><li>洋葱模型的中间件机制更灵活，支持异步操作更自然，代码可读性更高。</li><li>轻量且扩展性强，可按需组合第三方库，适合需要定制化但追求优雅异步处理的场景。</li></ul><h3 id="缺点：-2">缺点：</h3><ul><li>同样缺乏内置架构规范，大型项目需自行设计分层、校验、日志等模块，开发成本较高。</li><li>生态不如 Express 成熟（但核心功能的中间件基本齐全）。</li></ul><h3 id="适用场景：-2">适用场景：</h3><p>中型项目、对异步流程控制要求高的场景，或希望在轻量基础上自定义架构的团队。</p><h2 id="3-Egg-js：基于-Koa-的-Web-框架，更适合企业级开发-Egg-js：企业级-“约定大于配置”-框架">3. Egg.js：基于 Koa 的 Web 框架，更适合企业级开发(Egg.js：企业级 “约定大于配置” 框架)</h2><h3 id="核心特性：-3">核心特性：</h3><p>由阿里团队开发（2016 年），基于 Koa 封装，主打 “约定大于配置”，内置了一套完整的企业级开发规范（如目录结构、中间件管理、插件机制、错误处理、日志等）。支持插件化扩展（如egg-mysql、egg-redis），并提供内置的安全机制（如 CSRF 防护、XSS 过滤）。</p><h3 id="优点：-3">优点：</h3><ul><li>开箱即用，规范统一，降低团队协作成本，适合大型项目和企业级应用。</li><li>内置功能完善（如参数校验、事务管理、定时任务），减少重复开发。</li><li>基于 Koa 的洋葱模型，兼容 Koa 中间件，同时扩展了更强大的插件生态。</li></ul><h3 id="缺点：-3">缺点：</h3><ul><li>约定较多，灵活性略低，小型项目可能觉得 “过重”。</li><li>学习成本高于 Express/Koa，需熟悉其规范（如app/ctx对象、服务层service等）。</li></ul><h3 id="适用场景：-3">适用场景：</h3><p>中大型企业级应用、团队协作项目，或需要快速落地规范架构的场景（如电商、后台管理系统）。</p><h2 id="4-Nest-js：基于-TypeScript-的-Web-框架，更适合大型项目（TypeScript-友好的-“后端-Spring”）">4. Nest.js：基于 TypeScript 的 Web 框架，更适合大型项目（TypeScript 友好的 “后端 Spring”）</h2><h3 id="核心特性：-4">核心特性：</h3><p>2017 年推出，灵感来自 Java 的 Spring 框架，主打 “模块化、依赖注入、面向 AOP（面向切面编程）”，原生支持 TypeScript，强制类型约束。架构严格分层（控制器Controller、服务Service、模块Module等），支持 GraphQL、微服务等，生态丰富（如与 TypeORM、Prisma 等 ORM 集成）。</p><h3 id="优点：-4">优点：</h3><ul><li>强类型带来更好的代码提示和可维护性，适合大型复杂项目和长期迭代。</li><li>架构严谨，模块化设计清晰，支持依赖注入，便于测试和扩展，对团队协作友好。</li><li>支持多种开发模式（RESTful、GraphQL、微服务），扩展性极强。</li></ul><h3 id="缺点：-4">缺点：</h3><ul><li>学习成本高，需理解 TypeScript、依赖注入、装饰器等概念，初期开发速度较慢。</li><li>框架本身较 “重”，小型项目可能显得冗余。</li></ul><h3 id="适用场景：-4">适用场景：</h3><p>大型企业级应用、复杂业务系统（如金融、社交）、需要强类型保障和严谨架构的团队，或熟悉 Java/Spring 的开发者。</p><h2 id="对比总结与推荐">对比总结与推荐</h2><ol><li>Express：最经典的轻量框架，适合快速搭建小型项目或 API 服务，对项目结构无强制要求，自由度高。</li><li>Koa：Express 的 “升级版”，更优雅的中间件机制，适合中、大型项目，对异步流程控制要求高的场景，或希望在轻量基础上自定义架构的团队。</li><li>Egg.js：基于 Koa 的 Web 框架，更适合企业级开发，开箱即用，规范统一，降低团队协作成本，适合大型项目和企业级应用。</li><li>Nest.js：基于 TypeScript 的 Web 框架，更适合大型项目，强类型带来更好的代码提示和可维护性，架构严谨，模块化设计清晰，支持依赖注入，便于测试和扩展，对团队协作友好。</li></ol><table><thead><tr><th>框架</th><th>核心特点</th><th>灵活性</th><th>学习成本</th><th>适合规模</th><th>推荐场景</th></tr></thead><tbody><tr><td>Express</td><td>轻量、自由、生态成熟</td><td>★★★★★</td><td>低</td><td>小型/原型</td><td>快速开发、简单 API、高度定制化需求</td></tr><tr><td>Koa</td><td>洋葱模型、优雅异步</td><td>★★★★☆</td><td>中低</td><td>中小型</td><td>异步场景多、需要轻量但更优雅的中间件机制</td></tr><tr><td>Egg.js</td><td>约定大于配置、企业级规范</td><td>★★★☆☆</td><td>中</td><td>中大型</td><td>团队协作、企业应用、需要快速落地规范架构</td></tr><tr><td>Nest.js</td><td>强类型、模块化、Spring 风格</td><td>★★☆☆☆</td><td>高</td><td>大型/复杂系统</td><td>长期迭代项目、强类型需求、复杂业务逻辑</td></tr></tbody></table><h2 id="最终推荐">最终推荐</h2><ul><li>如果你是新手或需要快速开发小项目：Express（简单直接，生态丰富）。</li><li>如果你熟悉 Express，想优化异步流程：Koa（洋葱模型更优雅，适合中型项目）。</li><li>如果你在企业团队，需要统一规范和高效协作：Egg.js（开箱即用，阿里生态加持）。</li><li>如果你追求强类型、严谨架构，或来自 Java 背景：Nest.js（未来趋势，适合大型项目）。</li></ul><p>根据项目规模和团队技术栈选择即可，没有 “最好” 的框架，只有 “最合适” 的框架。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;Express、Koa、Egg、Nest.js 的区别&lt;/h1&gt;
&lt;p&gt;在 Node.js 后端开发中，Express、Koa、Egg.js、Nest.js 是常用框架，它们各有特点和适用场景，以下从核心特性、优缺点、适用场景等方面对比分析，并给出推荐建议：&lt;/p&gt;
&lt;h</summary>
      
    
    
    
    <category term="Node" scheme="https://www.wbdqc.cn/categories/Node/"/>
    
    
    <category term="Node" scheme="https://www.wbdqc.cn/tags/Node/"/>
    
    <category term="全栈" scheme="https://www.wbdqc.cn/tags/%E5%85%A8%E6%A0%88/"/>
    
  </entry>
  
  <entry>
    <title>Vue+Go.js实现拖拽流程图</title>
    <link href="https://www.wbdqc.cn/posts/232e41b3.html"/>
    <id>https://www.wbdqc.cn/posts/232e41b3.html</id>
    <published>2024-11-05T09:17:22.000Z</published>
    <updated>2025-12-10T06:17:58.165Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言">前言</h2><p>最近开发遇到一个需求，需要实现一个流程图编辑器，使用vue+go.js实现。是依赖画布canvas相关技术实现的。需要花费大量时间去熟悉go.js相关技术，研究几天发现vue+go.js实现起来非常简单，而且vue的组件化思想也非常适合流程图编辑器的开发。</p><h2 id="官方案例">官方案例</h2><p>vue+go.js实现流程图编辑器，可以参考官方的案例：<a href="https://gojs.net.cn/samples/flowchart.html">https://gojs.net.cn/samples/flowchart.html</a></p><p><img src="https://cdn.jsdelivr.net/npm/gk_drawing_bed/img/posts/232e41b3/gk_go3.png" alt="show.png"></p><h2 id="实现步骤">实现步骤</h2><ol><li>画布初始化</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 左边流程图 --&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;palette-box&quot;</span> <span class="attr">id</span>=<span class="string">&quot;myPaletteDiv&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> <span class="comment">&lt;!-- 流程图制作区域 --&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;chart-box&quot;</span> <span class="attr">id</span>=<span class="string">&quot;myDiagramDiv&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="2"><li>初始化流程面板</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//初始化流程图面板</span></span><br><span class="line">that.<span class="property">myDiagram</span> = $(</span><br><span class="line">  go.<span class="property">Diagram</span>,</span><br><span class="line">  <span class="string">&quot;myDiagramDiv&quot;</span>, <span class="comment">// must name or refer to the DIV HTML element</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="string">&quot;grid.visible&quot;</span>: <span class="literal">false</span>, <span class="comment">//显示网格</span></span><br><span class="line">    <span class="attr">initialContentAlignment</span>: go.<span class="property">Spot</span>.<span class="property">Center</span>, <span class="comment">// 令绘制的元素相对画布居中</span></span><br><span class="line">    <span class="title class_">LinkDrawn</span>: that.<span class="property">showLinkLabel</span>, <span class="comment">// this DiagramEvent     listener is defined below</span></span><br><span class="line">    <span class="title class_">LinkRelinked</span>: that.<span class="property">showLinkLabel</span>,</span><br><span class="line">    <span class="string">&quot;undoManager.isEnabled&quot;</span>: <span class="literal">true</span>, <span class="comment">//是否可撤销编辑</span></span><br><span class="line">    <span class="attr">isReadOnly</span>: isReadOnly, <span class="comment">//只读</span></span><br><span class="line">  &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/npm/gk_drawing_bed/img/posts/232e41b3/gk_go06.png" alt="show.png"></p><ol start="3"><li>初始化流程面板节点</li></ol><p><img src="https://cdn.jsdelivr.net/npm/gk_drawing_bed/img/posts/232e41b3/gk_go4.png" alt="show.png"></p><ol start="4"><li>流程图相关方法</li></ol><p><img src="https://cdn.jsdelivr.net/npm/gk_drawing_bed/img/posts/232e41b3/gk_go5.png" alt="show.png"></p><h2 id="效果展示">效果展示</h2><p><img src="https://cdn.jsdelivr.net/npm/gk_drawing_bed/img/posts/232e41b3/gk_go1.jpg" alt="show.jpg"></p><p><img src="https://cdn.jsdelivr.net/npm/gk_drawing_bed/img/posts/232e41b3/gk_go2.jpg" alt="show.jpg"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;前言&quot;&gt;前言&lt;/h2&gt;
&lt;p&gt;最近开发遇到一个需求，需要实现一个流程图编辑器，使用vue+go.js实现。是依赖画布canvas相关技术实现的。需要花费大量时间去熟悉go.js相关技术，研究几天发现vue+go.js实现起来非常简单，而且vue的组件化思想也非常适</summary>
      
    
    
    
    <category term="Go.js" scheme="https://www.wbdqc.cn/categories/Go-js/"/>
    
    
    <category term="Go, Vue" scheme="https://www.wbdqc.cn/tags/Go-Vue/"/>
    
  </entry>
  
  <entry>
    <title>怪咖3D机器人可视化</title>
    <link href="https://www.wbdqc.cn/posts/5356d0dd.html"/>
    <id>https://www.wbdqc.cn/posts/5356d0dd.html</id>
    <published>2024-06-07T03:24:44.000Z</published>
    <updated>2025-12-10T06:17:58.165Z</updated>
    
    <content type="html"><![CDATA[<h1>怪咖3D机器人可视化</h1><h2 id="前言">前言</h2><p>最近，我在学习Three.js，做了一个3D机器人可视化的项目，想到之前做过Echarts的可视化项目，于是想着把这两个项目结合起来，做一个更加炫酷的可视化项目。</p><h2 id="介绍">介绍</h2><p>怪咖3D机器人可视化，基于Vue3 + Echarts + three.js + Tailwind CSS 实现，主要功能有：</p><ol><li>3D模型展示</li><li>轨迹跟踪</li><li>机器人控制</li><li>反馈数据统计</li><li>期望工作地址统计</li><li>工作经验统计</li><li>热门词云图</li><li>云端风险监控</li></ol><h2 id="演示">演示</h2><p>演示地址：<a href="https://www.wbdqc.top">https://www.wbdqc.top</a><br>效果图：<br><img src="https://cdn.jsdelivr.net/npm/gk_drawing_bed/img/gif/gk_robot.gif" alt="image"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;怪咖3D机器人可视化&lt;/h1&gt;
&lt;h2 id=&quot;前言&quot;&gt;前言&lt;/h2&gt;
&lt;p&gt;最近，我在学习Three.js，做了一个3D机器人可视化的项目，想到之前做过Echarts的可视化项目，于是想着把这两个项目结合起来，做一个更加炫酷的可视化项目。&lt;/p&gt;
&lt;h2 id=&quot;介绍&quot;</summary>
      
    
    
    
    <category term="Three" scheme="https://www.wbdqc.cn/categories/Three/"/>
    
    
    <category term="Vue3" scheme="https://www.wbdqc.cn/tags/Vue3/"/>
    
    <category term="Three.js" scheme="https://www.wbdqc.cn/tags/Three-js/"/>
    
  </entry>
  
  <entry>
    <title>npm 淘宝镜像</title>
    <link href="https://www.wbdqc.cn/posts/24db86e5.html"/>
    <id>https://www.wbdqc.cn/posts/24db86e5.html</id>
    <published>2024-06-04T05:48:08.000Z</published>
    <updated>2025-12-10T06:17:58.165Z</updated>
    
    <content type="html"><![CDATA[<p>最近安装依赖包的时候，出现报错</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="variable constant_">ERR</span>! request to <span class="attr">https</span>:<span class="comment">//registry.npm.taobao.org/yorkie/download/yorkie-2.0.0.tgz failed, reason: certificate has expired</span></span><br></pre></td></tr></table></figure><p><strong>原因：</strong><br>查阅后发现，淘宝 npm 镜像的证书到期了，导致 npm 安装依赖包失败。<br>早在 2021 年，淘宝就发文称，npm 淘宝镜像已经从 <a href="http://registry.npm.taobao.org">http://registry.npm.taobao.org</a> 切换到了 <a href="http://registry.npmmirror.com">http://registry.npmmirror.com</a>。旧域名也将于 2022 年 5 月 31 日停止服务（直到 HTTPS 证书到期才真正不能用了）</p><p>2024年1 月 22 日，淘宝原镜像域名（<a href="http://registry.npm.taobao.org">http://registry.npm.taobao.org</a>）的 HTTPS 证书正式到期，导致旧的 npm 淘宝镜像在使用时出错了。</p><p><strong>解决方案</strong></p><ol><li>清空 npm 缓存：</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm cache clean --force</span><br></pre></td></tr></table></figure><ol start="2"><li>查看当前 npm 源：</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config get registry</span><br></pre></td></tr></table></figure><ol start="3"><li>切换 npm 源：</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config set registry <span class="attr">https</span>:<span class="comment">//registry.npmmirror.com</span></span><br></pre></td></tr></table></figure><ol start="4"><li>验证是否切换成功：</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config get registry</span><br></pre></td></tr></table></figure><ol start="5"><li>重新打开命令行，输入 <code>npm install</code> 即可安装依赖包。</li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;最近安装依赖包的时候，出现报错&lt;/p&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;</summary>
      
    
    
    
    <category term="npm" scheme="https://www.wbdqc.cn/categories/npm/"/>
    
    
    <category term="npm" scheme="https://www.wbdqc.cn/tags/npm/"/>
    
  </entry>
  
  <entry>
    <title>Javascript中Object类的静态方法</title>
    <link href="https://www.wbdqc.cn/posts/f42e3c0c.html"/>
    <id>https://www.wbdqc.cn/posts/f42e3c0c.html</id>
    <published>2024-06-03T08:49:47.000Z</published>
    <updated>2025-12-10T06:17:58.165Z</updated>
    
    <content type="html"><![CDATA[<h1>Javascript中Object类的静态方法总结</h1><p>Object类中有一些静态方法，这些方法可以直接通过类名来调用，而不需要实例化对象。</p><span id="more"></span><ul><li><p><code>Object.assign(target,...sources)</code>：将多个源对象复制到目标对象，并返回目标对象。</p></li><li><p><code>Object.create(proto, propertiesObject)</code>：创建一个新对象，并设置其原型对象和属性。</p></li><li><p><code>Object.defineProperties(obj, props)</code>：定义一个对象<code>obj</code>的属性，并返回<code>obj</code>。</p></li><li><p><code>Object.defineProperty(obj, prop, descriptor)</code>：定义一个对象<code>obj</code>的属性，并返回<code>obj</code>。</p></li><li><p><code>Object.entries(obj)</code>：返回一个数组，包含对象<code>obj</code>的所有可枚举的自身属性的键值对。</p></li><li><p><code>Object.freeze(obj)</code>：冻结对象。</p></li><li><p><code>Object.fromEntries(iterable)</code>：创建一个新对象，并将可迭代对象<code>iterable</code>中的键值对添加到新对象中。</p></li><li><p><code>Object.getOwnPropertyDescriptor(obj, prop)</code>：返回指定对象<code>obj</code>的属性<code>prop</code>的描述对象。</p></li><li><p><code>Object.getOwnPropertyDescriptors(obj)</code>：返回一个对象，包含对象<code>obj</code>的所有自身属性的描述对象。</p></li><li><p><code>Object.getOwnPropertyNames(obj)</code>：返回一个数组，包含对象<code>obj</code>的所有属性的键名。</p></li><li><p><code>Object.getOwnPropertySymbols(obj)</code>：返回一个数组，包含对象<code>obj</code>的所有符号属性的键名。</p></li><li><p><code>Object.getPrototypeOf(obj)</code>：返回指定对象的原型对象。</p></li><li><p><code>Object.groupBy(obj, iteratee)</code>：将对象<code>obj</code>根据<code>iteratee</code>函数的返回值进行分组。</p></li><li><p><code>Object.hasOwn(obj, prop)</code>:判断对象<code>obj</code>是否有指定属性<code>prop</code>。</p></li><li><p><code>Object.is(value1, value2)</code>：判断两个值是否相等。</p></li><li><p><code>Object.isExtensible(obj)</code>：判断对象是否可扩展。</p></li><li><p><code>Object.isFrozen(obj)</code>：判断对象是否冻结。</p></li><li><p><code>Object.isSealed(obj)</code>：判断对象是否密封。</p></li><li><p><code>Object.keys(obj)</code>：返回一个数组，包含对象<code>obj</code>的所有可枚举的自身属性的键名。</p></li><li><p><code>Object.preventExtensions(obj)</code>：防止对象扩展。</p></li><li><p><code>Object.seal(obj)</code>：密封对象。</p></li><li><p><code>Object.setPrototypeOf(obj, proto)</code>：设置对象的原型对象。</p></li><li><p><code>Object.values(obj)</code>：返回一个数组，包含对象<code>obj</code>的所有可枚举的自身属性的值。</p></li></ul>]]></content>
    
    
    <summary type="html">&lt;h1&gt;Javascript中Object类的静态方法总结&lt;/h1&gt;
&lt;p&gt;Object类中有一些静态方法，这些方法可以直接通过类名来调用，而不需要实例化对象。&lt;/p&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>Git SSH Key生成</title>
    <link href="https://www.wbdqc.cn/posts/14d45485.html"/>
    <id>https://www.wbdqc.cn/posts/14d45485.html</id>
    <published>2024-06-03T08:49:30.000Z</published>
    <updated>2025-12-10T06:17:58.165Z</updated>
    
    <content type="html"><![CDATA[<h1>Git SSH Key生成</h1><p>SSH Key是一种加密的公钥私钥对，用于身份验证。</p><p>使用Git通过SSH拉取远程仓库时，出现以下内容：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ git clone git@******.<span class="property">com</span>:********.<span class="property">git</span></span><br><span class="line"><span class="title class_">Cloning</span> into <span class="string">&#x27;gk_vblog&#x27;</span>...</span><br><span class="line">git@******.<span class="property">com</span>: <span class="title class_">Permission</span> denied (publickey).</span><br><span class="line"><span class="attr">fatal</span>: <span class="title class_">Could</span> not read <span class="keyword">from</span> remote repository.</span><br><span class="line"></span><br><span class="line"><span class="title class_">Please</span> make sure you have the correct access rights</span><br><span class="line">and the repository exists.</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>这是因为Git需要SSH Key来验证身份，而你没有配置SSH Key。</p><ol><li>首先，检查是否已有SSH Key。</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ls -al ~/.<span class="property">ssh</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// or </span></span><br><span class="line">cd ~/.<span class="property">ssh</span></span><br><span class="line">ls</span><br></pre></td></tr></table></figure><p>如果存在id_rsa.pub文件，则说明已有SSH Key。</p><ol start="2"><li>如果没有SSH Key，则生成SSH Key。</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;your_email@example.com&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Generating</span> public/private rsa key pair.</span><br><span class="line"><span class="title class_">Enter</span> file <span class="keyword">in</span> which to save the key (<span class="regexp">/c/</span><span class="title class_">Users</span>/<span class="title class_">Administrator</span>/.<span class="property">ssh</span>/id_rsa):</span><br><span class="line"><span class="title class_">Enter</span> passphrase (empty <span class="keyword">for</span> no passphrase): yes</span><br><span class="line"><span class="title class_">Enter</span> same passphrase <span class="attr">again</span>:</span><br><span class="line"><span class="title class_">Your</span> identification has been saved <span class="keyword">in</span> /c/<span class="title class_">Users</span>/<span class="title class_">Administrator</span>/.<span class="property">ssh</span>/id_rsa</span><br><span class="line"><span class="title class_">Your</span> public key has been saved <span class="keyword">in</span> /c/<span class="title class_">Users</span>/<span class="title class_">Administrator</span>/.<span class="property">ssh</span>/id_rsa.<span class="property">pub</span></span><br><span class="line"><span class="title class_">The</span> key fingerprint <span class="attr">is</span>:</span><br><span class="line"><span class="title class_">SHA256</span>:******** ********</span><br><span class="line"><span class="title class_">The</span> key<span class="string">&#x27;s randomart image is:</span></span><br><span class="line"><span class="string">+---[RSA 3072]----+</span></span><br><span class="line"><span class="string">|          ..     |</span></span><br><span class="line"><span class="string">|       .  ..o..  |</span></span><br><span class="line"><span class="string">|     .. o  oo=   |</span></span><br><span class="line"><span class="string">|     .o  *  o..  |</span></span><br><span class="line"><span class="string">|    .. oS.+..    |</span></span><br><span class="line"><span class="string">| o. ..+E.+oo     |</span></span><br><span class="line"><span class="string">|oo....o.oo=..o   |</span></span><br><span class="line"><span class="string">|..+. . .oo.=+ .  |</span></span><br><span class="line"><span class="string">|.o..  .o  o...   |</span></span><br><span class="line"><span class="string">+----[SHA256]-----+</span></span><br><span class="line"><span class="string"></span></span><br></pre></td></tr></table></figure><ol start="3"><li>然后，将SSH Key添加到ssh-agent。</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-add ~<span class="regexp">/.ssh/i</span>d_rsa</span><br></pre></td></tr></table></figure><p>如果出现&quot;Could not open a connection to your authentication agent.&quot;，则说明没有安装SSH Key。请安装并配置SSH Key。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">eval</span> <span class="string">&quot;$(ssh-agent -s)&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 或者</span></span><br><span class="line"><span class="built_in">eval</span> <span class="string">`ssh-agent`</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>如果出现以下内容，则说明SSH Key添加成功：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ssh-add ~<span class="regexp">/.ssh/i</span>d_rsa</span><br><span class="line"></span><br><span class="line"><span class="title class_">Identity</span> <span class="attr">added</span>: <span class="regexp">/c/</span><span class="title class_">Users</span>/<span class="title class_">Administrator</span>/.<span class="property">ssh</span>/id_rsa (***email***)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>再次执行</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-add ~<span class="regexp">/.ssh/i</span>d_rsa</span><br></pre></td></tr></table></figure><ol start="4"><li>将SSH Key添加到GitHub上，以便Git通过SSH拉取远程仓库。<br>步骤：<code>Settings</code> -&gt; <code>SSH and GPG keys</code> -&gt; <code>New SSH Key</code> -&gt; <code>Title</code> -&gt; <code>Key</code> -&gt; <code>Add SSH Key</code></li></ol><p>查看公钥，以便复制到GitHub上。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cat ~<span class="regexp">/.ssh/i</span>d_rsa.<span class="property">pub</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="5"><li>最后，测试SSH Key是否配置成功。</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.<span class="property">com</span></span><br></pre></td></tr></table></figure><ol start="6"><li>如果出现以下内容，则说明配置成功。</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Hi</span> *! <span class="title class_">You</span><span class="string">&#x27;ve successfully authenticated, but GitHub does not provide shell access.</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;Git SSH Key生成&lt;/h1&gt;
&lt;p&gt;SSH Key是一种加密的公钥私钥对，用于身份验证。&lt;/p&gt;
&lt;p&gt;使用Git通过SSH拉取远程仓库时，出现以下内容：&lt;/p&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=</summary>
      
    
    
    
    <category term="Git" scheme="https://www.wbdqc.cn/categories/Git/"/>
    
    
    <category term="Git" scheme="https://www.wbdqc.cn/tags/Git/"/>
    
    <category term="SSH" scheme="https://www.wbdqc.cn/tags/SSH/"/>
    
  </entry>
  
  <entry>
    <title>微信小程序内嵌H5页面中点击按钮如何跳转到其他小程序</title>
    <link href="https://www.wbdqc.cn/posts/3e9025c0.html"/>
    <id>https://www.wbdqc.cn/posts/3e9025c0.html</id>
    <published>2024-05-22T02:03:29.000Z</published>
    <updated>2025-12-10T06:17:58.165Z</updated>
    
    <content type="html"><![CDATA[<h4 id="业务需求">业务需求</h4><p>微信小程序中内内嵌的H5界面，需要通过点击按钮来实现跳转到其他小程序。想通过<code>web-view</code>来实现直接跳转，结果失败了（难道就实现不了了吗？）。<br>查阅了微信官方的文档，也没有给出具体解决方法，只有小程序跳转其他小程序的相关api，于是突发奇想，能否让嵌入的H5界面跳转到当前小程序页面，然后不就是小程序跳转小程序了吗，感觉可行，就尝试了一波。</p><h4 id="解决方案">解决方案</h4><p>小程序中内嵌的H5页面通过点击之后需要跳转至目标小程序，首先需要跳转到内嵌的小程序界面，然后使用微信api<code>wx.navigateToMiniProgram()’</code>实现跳转目标小程序，达到用户可以从内嵌的H5页面中跳转到目标小程序的目的。</p><h4 id="实现方法">实现方法</h4><p>1.在H5页面中处理好需要传递的参数</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// pages/wx/wx 当前小程序页面</span></span><br><span class="line"><span class="keyword">let</span> url = <span class="string">`/pages/wx/wx?appid=<span class="subst">$&#123;appid&#125;</span>&amp;path=<span class="subst">$&#123;<span class="built_in">encodeURIComponent</span>(path)&#125;</span>`</span></span><br></pre></td></tr></table></figure><p>2.调用<code>wx.miniProgram.navigateTo()</code>方法跳转至当前嵌入的小程序界面，携带跳转小程序所需的参数，这里以<code>appid</code>和<code>path</code>为例，path中因为还有其他参数，所以这里使用JavaScript的<code>encodeURIComponent()</code>进行转码处理。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wx.<span class="property">miniProgram</span>.<span class="title function_">navigateTo</span>(&#123;<span class="attr">url</span>: url&#125;);</span><br></pre></td></tr></table></figure><p>3.在小程序界面中接收参数，path需要使用<code>decodeURIComponent()</code>方法解码，然后在调用<code> wx.navigateToMiniProgram()</code>方法来跳转目标小程序。<br>需要注意的是<code>wx.navigateToMiniProgram()</code>方法需要用户手动触发，为此我在调用之前添加了一层<code>wx.showModal()</code>方法。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">wx.<span class="title function_">showModal</span>(&#123;</span><br><span class="line">   <span class="attr">title</span>: <span class="string">&quot;温馨提示&quot;</span>,</span><br><span class="line">   <span class="attr">content</span>: <span class="string">&quot;xxx提示内容&quot;</span>,</span><br><span class="line">   <span class="attr">cancelText</span>: <span class="string">&quot;取消&quot;</span>, <span class="comment">//默认是“取消”</span></span><br><span class="line">   <span class="attr">cancelColor</span>: <span class="string">&quot;#000000&quot;</span>, <span class="comment">//取消文字的颜色</span></span><br><span class="line">   <span class="attr">confirmText</span>: <span class="string">&quot;确定&quot;</span>, <span class="comment">//默认是“确定”</span></span><br><span class="line">   <span class="attr">confirmColor</span>: <span class="string">&quot;#0378D8&quot;</span>, <span class="comment">//确定文字的颜色</span></span><br><span class="line">   <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">     <span class="keyword">if</span> (res.<span class="property">cancel</span>) &#123;</span><br><span class="line">       <span class="comment">//用户点击取消</span></span><br><span class="line">       wx.<span class="title function_">navigateBack</span>();</span><br><span class="line">     &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">       <span class="comment">// 打开目标小程序</span></span><br><span class="line">       wx.<span class="title function_">navigateToMiniProgram</span>(&#123;</span><br><span class="line">         <span class="attr">appId</span>: that.<span class="property">appid</span>,</span><br><span class="line">         <span class="attr">path</span>: that.<span class="property">path</span>,</span><br><span class="line">         <span class="title function_">success</span>(<span class="params">res</span>) &#123; </span><br><span class="line">           <span class="comment">// 打开成功</span></span><br><span class="line">           <span class="variable language_">console</span>.<span class="title function_">log</span>(res);</span><br><span class="line">         &#125;,</span><br><span class="line">         <span class="title function_">fail</span>(<span class="params"></span>) &#123;</span><br><span class="line">           wx.<span class="title function_">navigateBack</span>();</span><br><span class="line">         &#125;,</span><br><span class="line">       &#125;);</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;,</span><br><span class="line">   <span class="attr">fail</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">     wx.<span class="title function_">navigateBack</span>();</span><br><span class="line">   &#125;,</span><br><span class="line">   <span class="attr">complete</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(res);</span><br><span class="line">   &#125;,</span><br><span class="line"> &#125;);</span><br></pre></td></tr></table></figure><p>踩坑不易，点赞支持一下呗！</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h4 id=&quot;业务需求&quot;&gt;业务需求&lt;/h4&gt;
&lt;p&gt;微信小程序中内内嵌的H5界面，需要通过点击按钮来实现跳转到其他小程序。想通过&lt;code&gt;web-view&lt;/code&gt;来实现直接跳转，结果失败了（难道就实现不了了吗？）。&lt;br&gt;
查阅了微信官方的文档，也没有给出具体解决方法，</summary>
      
    
    
    
    <category term="小程序" scheme="https://www.wbdqc.cn/categories/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
    
    <category term="H5" scheme="https://www.wbdqc.cn/tags/H5/"/>
    
    <category term="小程序" scheme="https://www.wbdqc.cn/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
  </entry>
  
  <entry>
    <title>使用volta来实现node版本切换</title>
    <link href="https://www.wbdqc.cn/posts/bbc1886.html"/>
    <id>https://www.wbdqc.cn/posts/bbc1886.html</id>
    <published>2024-05-22T02:03:12.000Z</published>
    <updated>2025-12-10T06:17:58.165Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>使用volta来实现node版本切换</p></blockquote><span id="more"></span><p>上一篇文章（<a href="https://blog.csdn.net/weixin_44375151/article/details/137259826?spm=1001.2014.3001.5501">文章地址</a>）提到高版本node启动老项目需要借助<code>SET NODE_OPTIONS=--openssl-legacy-provider &amp;&amp;</code>命令（有时候可能需要卸载node，再安装）。<br>今天我找到一个更实用的方法，那就是<code>Volta</code>，它可以根据项目要求来指定所需的node版本。</p><h4 id="安装及使用方法">安装及使用方法</h4><p>官网地址：<a href="https://volta.sh/">volta官网地址</a></p><ol><li>找到Windows安装版本，下载完成后进行安装，一直next即可</li></ol><!-- ![安装图片](https://img-blog.csdnimg.cn/direct/6cb8a0738cfe49c4aa7849488140a035.png) --><ol start="2"><li><p>全局安装不同版本的node<br>打开任意目录下 cmd运行</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//20</span></span><br><span class="line">volta install node@<span class="number">20</span></span><br><span class="line"><span class="comment">//16</span></span><br><span class="line">volta install node@<span class="number">16</span></span><br></pre></td></tr></table></figure></li><li><p>安装好node版本之后可根据项目要求自行切换node版本了</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">volta pin node@<span class="number">16.20</span><span class="number">.2</span></span><br><span class="line"><span class="comment">//查看 node -v</span></span><br></pre></td></tr></table></figure></li><li><p>在要运行的根目录下运行<code>volta pin node@16.20.2</code>,会在项目的<code>package.json</code>中添加,然后就可以使用命令启动项目了。</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;volta&quot;</span>: &#123;</span><br><span class="line">  <span class="string">&quot;node&quot;</span>: <span class="string">&quot;16.20.2&quot;</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>Volta其他命令</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">volta list <span class="comment">//查看存在的版本</span></span><br><span class="line">volta list all <span class="comment">//查看所有版本</span></span><br><span class="line">volta install node <span class="comment">//安装最新版的nodejs</span></span><br><span class="line">volta install node@<span class="number">20.12</span><span class="number">.1</span> <span class="comment">//安装指定版本</span></span><br><span class="line">volta install node@<span class="number">16</span> <span class="comment">//volta将选择合适的版本安装</span></span><br><span class="line">volta pin node@<span class="number">16.20</span> <span class="comment">//将更新项目的package.json文件以使用工具的选定版本</span></span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;使用volta来实现node版本切换&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="volta" scheme="https://www.wbdqc.cn/categories/volta/"/>
    
    
    <category term="Node.js" scheme="https://www.wbdqc.cn/tags/Node-js/"/>
    
    <category term="volta" scheme="https://www.wbdqc.cn/tags/volta/"/>
    
  </entry>
  
  <entry>
    <title>uniapp微信小程序中嵌入H5页面，调试信息查看</title>
    <link href="https://www.wbdqc.cn/posts/3f9e1af5.html"/>
    <id>https://www.wbdqc.cn/posts/3f9e1af5.html</id>
    <published>2024-03-29T03:14:35.000Z</published>
    <updated>2025-12-10T06:17:58.165Z</updated>
    
    <content type="html"><![CDATA[<h5 id="需求">需求</h5><p>最近开发时遇到这么一个需求，使用uniapp开发H5界面，并通过<code>webview</code>嵌入小程序中使用。</p><h5 id="出现的问题">出现的问题</h5><p>在调试过程中发现嵌入的H5界面打印信息不显示，在浏览器中打印正常显示。当时就很纳闷，以为是编译器出问题（最近重新安装过编译器），查阅资料后发现，编译器有针对webview的调试功能。于是出篇文章记录一下。</p><h5 id="解决办法">解决办法</h5><ul><li>在微信开发者工具模拟器的右下角有个调试图标（像爬虫）。</li><li>运行项目后点击图标，会出现一个<code>DevTools</code>的窗口。</li><li>点击 <code>Console</code>,就能查看嵌入的H5界面的打印信息了。<br><img src="https://cdn.jsdelivr.net/npm/gk_drawing_bed/img/posts/3f9e1af5/3f9e1af5.png" alt=" 3f9e1af5 "></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h5 id=&quot;需求&quot;&gt;需求&lt;/h5&gt;
&lt;p&gt;最近开发时遇到这么一个需求，使用uniapp开发H5界面，并通过&lt;code&gt;webview&lt;/code&gt;嵌入小程序中使用。&lt;/p&gt;
&lt;h5 id=&quot;出现的问题&quot;&gt;出现的问题&lt;/h5&gt;
&lt;p&gt;在调试过程中发现嵌入的H5界面打印信息不显示</summary>
      
    
    
    
    <category term="Uniapp" scheme="https://www.wbdqc.cn/categories/Uniapp/"/>
    
    
    <category term="uniapp" scheme="https://www.wbdqc.cn/tags/uniapp/"/>
    
  </entry>
  
  <entry>
    <title>uniapp H5页面判断所在环境：微信小程序、微信浏览器、外部浏览器</title>
    <link href="https://www.wbdqc.cn/posts/c9a9c747.html"/>
    <id>https://www.wbdqc.cn/posts/c9a9c747.html</id>
    <published>2024-03-29T03:11:55.000Z</published>
    <updated>2025-12-10T07:26:22.205Z</updated>
    
    <content type="html"><![CDATA[<h1>uniapp H5 页面判断所在环境：微信小程序、微信浏览器、外部浏览器</h1><p>开发过程中难免会遇到需要判断单前页面所处的运行环境,那么我们应该如何来实现呢？</p><p>需求是这样的：uniapp 开发的 H5 界面需要嵌入微信小程序，安卓 app 中，其中有部分功能是在 app 中显示，小程序中不显示。经过一番摸索之后，我也找到解决办法，再此备忘一下。</p><h4 id="解决方法">解决方法</h4><ol><li>借助微信提供的<code>sd k</code></li><li>获取浏览器信息</li><li>判断方法</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">安装<span class="attr">sdk</span>:</span><br><span class="line">npm install weixin-js-sdk</span><br><span class="line">引入<span class="attr">sdk</span>:</span><br><span class="line"><span class="keyword">let</span> wxSdk = <span class="built_in">require</span>(<span class="string">&#x27;weixin-js-sdk&#x27;</span>);</span><br><span class="line">判断方法：</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getENVIR</span> () &#123;</span><br><span class="line"><span class="keyword">let</span> wxSdk = <span class="built_in">require</span>(<span class="string">&#x27;weixin-js-sdk&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> text = <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">let</span> ua = navigator.<span class="property">userAgent</span>.<span class="title function_">toLowerCase</span>();</span><br><span class="line"><span class="keyword">if</span> (ua.<span class="title function_">match</span>(<span class="regexp">/MicroMessenger/i</span>) == <span class="string">&quot;micromessenger&quot;</span>) &#123;</span><br><span class="line">wxSdk.<span class="property">miniProgram</span>.<span class="title function_">getEnv</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line"><span class="keyword">if</span> (res.<span class="property">miniprogram</span>) &#123;</span><br><span class="line"><span class="comment">//小程序环境</span></span><br><span class="line">text = <span class="string">&#x27;wx&#x27;</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="comment">//微信环境</span></span><br><span class="line">text = <span class="string">&#x27;noWx&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="comment">// 其他浏览器</span></span><br><span class="line">text = <span class="string">&#x27;noWx&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> text</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;uniapp H5 页面判断所在环境：微信小程序、微信浏览器、外部浏览器&lt;/h1&gt;
&lt;p&gt;开发过程中难免会遇到需要判断单前页面所处的运行环境,那么我们应该如何来实现呢？&lt;/p&gt;
&lt;p&gt;需求是这样的：uniapp 开发的 H5 界面需要嵌入微信小程序，安卓 app 中，其中</summary>
      
    
    
    
    <category term="Uniapp" scheme="https://www.wbdqc.cn/categories/Uniapp/"/>
    
    
    <category term="uniapp" scheme="https://www.wbdqc.cn/tags/uniapp/"/>
    
  </entry>
  
  <entry>
    <title>js防抖、节流</title>
    <link href="https://www.wbdqc.cn/posts/7d558cc7.html"/>
    <id>https://www.wbdqc.cn/posts/7d558cc7.html</id>
    <published>2024-03-15T08:25:52.000Z</published>
    <updated>2025-12-10T06:17:58.165Z</updated>
    
    <content type="html"><![CDATA[<h1>JavaScript实现防抖、节流</h1><p>在开发过程中往往会遇到这类需求，某些界面或按钮在弱网情况下点击没有反应，用户就会疯狂的点击，后台就源源不断的向服务器发送请求，用户体验贼差。<br>为了解决在这一问题，就会想到能不能在一定时间内无论用户点击多少次，只触发一次请求。<br>这时就会考虑到<code>节流</code>和<code>防抖</code>，那么什么是节流和防抖呢，怎么来实现?</p><ul><li>防抖：单位时间内，频繁触发事件，只执行最后一次</li></ul><blockquote><p>思路：利用定时器，每次触发先清除定时器</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">debounce</span>(<span class="params">fn, wait</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> timer = <span class="literal">null</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> context = <span class="variable language_">this</span>;</span><br><span class="line">    args = [...<span class="variable language_">arguments</span>];</span><br><span class="line">    <span class="comment">// 如果此时存在定时器的话，则取消之前定时器重新计时</span></span><br><span class="line">    <span class="keyword">if</span> (timer) &#123;</span><br><span class="line">      <span class="built_in">clearTimeout</span>(timer);</span><br><span class="line">      timer = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 设置定时器，使事件间隔指定时间后执行；</span></span><br><span class="line">    timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      fn.<span class="title function_">apply</span>(context, args);</span><br><span class="line">    &#125;, wait);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>节流：单位时间内，频繁触发事件，只执行一次</li></ul><blockquote><p>思路：利用定时器，等定时器结束再开启定时器</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 节流时间戳</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">throttle</span>(<span class="params">fn,delay</span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> preTime = <span class="title class_">Date</span>.<span class="title function_">now</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">      <span class="keyword">var</span> context = <span class="variable language_">this</span></span><br><span class="line">      args = [...<span class="variable language_">arguments</span>];</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 如果两次时间间隔超过了指定时间，则执行函数</span></span><br><span class="line">      <span class="keyword">if</span>(nowTime - preTime &gt;=delay)&#123;</span><br><span class="line">        preTime = <span class="title class_">Date</span>.<span class="title function_">now</span>();</span><br><span class="line">        <span class="keyword">return</span> fn.<span class="title function_">apply</span>(context,args)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 节流-定时器</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">throttleTime</span>(<span class="params">fun,wait</span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> timeout = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">      <span class="keyword">let</span> context = <span class="variable language_">this</span>;</span><br><span class="line">      <span class="keyword">let</span> args = [...<span class="variable language_">arguments</span>]</span><br><span class="line">      <span class="keyword">if</span>(!timeout)&#123;</span><br><span class="line">        timeout = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          fun.<span class="title function_">apply</span>(context,args)</span><br><span class="line">          timeout = <span class="literal">null</span>;</span><br><span class="line">        &#125;, wait);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 节流-时间戳+定时器</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">throttleTimeAndTimer</span>(<span class="params">fun,wait</span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> preTime = <span class="title class_">Date</span>.<span class="title function_">now</span>();</span><br><span class="line">    <span class="keyword">let</span> timeout = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">      <span class="keyword">let</span> context = <span class="variable language_">this</span>;</span><br><span class="line">      <span class="keyword">let</span> args = [...<span class="variable language_">arguments</span>]</span><br><span class="line">      <span class="keyword">let</span> nowTime = <span class="title class_">Date</span>.<span class="title function_">now</span>();</span><br><span class="line">      <span class="keyword">if</span>(nowTime - preTime &gt;= wait)&#123;</span><br><span class="line">        <span class="keyword">if</span>(timeout)&#123;</span><br><span class="line">          <span class="built_in">clearTimeout</span>(timeout)</span><br><span class="line">          timeout = <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        preTime = <span class="title class_">Date</span>.<span class="title function_">now</span>();</span><br><span class="line">        fun.<span class="title function_">apply</span>(context,args)</span><br><span class="line">      &#125;<span class="keyword">else</span> <span class="keyword">if</span>(!timeout)&#123;</span><br><span class="line">        timeout = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          fun.<span class="title function_">apply</span>(context,args)</span><br><span class="line">          timeout = <span class="literal">null</span>;</span><br><span class="line">        &#125;, wait);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>免责声明：本文只是作者的个人观点，不代表网站立场。 转载请注明出处。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;JavaScript实现防抖、节流&lt;/h1&gt;
&lt;p&gt;在开发过程中往往会遇到这类需求，某些界面或按钮在弱网情况下点击没有反应，用户就会疯狂的点击，后台就源源不断的向服务器发送请求，用户体验贼差。&lt;br&gt;
为了解决在这一问题，就会想到能不能在一定时间内无论用户点击多少次，只触</summary>
      
    
    
    
    <category term="javaScript" scheme="https://www.wbdqc.cn/categories/javaScript/"/>
    
    
    <category term="节流 防抖" scheme="https://www.wbdqc.cn/tags/%E8%8A%82%E6%B5%81-%E9%98%B2%E6%8A%96/"/>
    
  </entry>
  
  <entry>
    <title>js轮询方法</title>
    <link href="https://www.wbdqc.cn/posts/db0c49c6.html"/>
    <id>https://www.wbdqc.cn/posts/db0c49c6.html</id>
    <published>2024-03-15T08:12:28.000Z</published>
    <updated>2025-12-10T06:17:58.165Z</updated>
    
    <content type="html"><![CDATA[<h1>js 轮询方法</h1><p>很多时候我们会遇到使用轮询方法去处理一些逻辑，比如说扫码后轮询判断二维码是否被使用等情况。<br>以下是一个基于 JavaScript 编写的一个简单轮询方法：<br><img src="https://cdn.jsdelivr.net/npm/gk_drawing_bed/img/posts/db0c49c6/poll.png" alt="poll.png"></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 轮询方法</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">pollCode</span>(<span class="params">fn, interval, timeout</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> endTime = <span class="title class_">Number</span>(<span class="keyword">new</span> <span class="title class_">Date</span>()) + (timeout || <span class="number">600000</span>);</span><br><span class="line">  interval = interval || <span class="number">1000</span>;</span><br><span class="line">  <span class="keyword">var</span> checkCondition = <span class="keyword">function</span> (<span class="params">resolve, reject</span>) &#123;</span><br><span class="line">    <span class="comment">// 如果超时则停止轮询</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="title class_">Number</span>(<span class="keyword">new</span> <span class="title class_">Date</span>()) &gt; endTime) &#123;</span><br><span class="line">      <span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;轮询超时&quot;</span>));</span><br><span class="line">      <span class="comment">// 如果条件满足则停止轮询</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="title function_">fn</span>()) &#123;</span><br><span class="line">      <span class="title function_">resolve</span>();</span><br><span class="line">      <span class="comment">// 否则继续轮询</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="built_in">setTimeout</span>(checkCondition, interval, resolve, reject);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(checkCondition);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>方法调用</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">pollCode (<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 这里是你要轮询的条件判断</span></span><br><span class="line">    <span class="comment">// 返回 true 表示条件满足，停止轮询</span></span><br><span class="line">    <span class="comment">// 返回 false 表示条件未满足，继续轮询</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;正在轮询...&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">random</span>() &lt; <span class="number">0.1</span>; <span class="comment">// 示例条件：随机小于 0.1 时停止轮询</span></span><br><span class="line">&#125;, <span class="number">2000</span>, <span class="number">10000</span>) <span class="comment">// 每隔2秒轮询一次，总共轮询10秒</span></span><br><span class="line">.<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;轮询成功&#x27;</span>);</span><br><span class="line">&#125;)</span><br><span class="line">.<span class="title function_">catch</span>(<span class="keyword">function</span>(<span class="params">error</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;轮询失败:&#x27;</span>, error);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>参数解说<br>fn：一个函数，用于执行需要轮询的条件判断。如果条件满足则返回 true，否则返回 false。<br>interval：可选参数，表示轮询间隔的毫秒数，默认为 1000 毫秒。<br>timeout：可选参数，表示轮询超时的毫秒数，默认为 2000 毫秒。<br>在上述方法中，pollCode () 方法会每隔一定的时间（由 interval 参数指定）执行一次条件判断函数 fn，直到条件满足或者超过指定的超时时间（由 timeout 参数指定）为止。当条件满足时，返回一个 Promise 对象，then() 方法中的回调函数会被调用；如果超时未满足条件，则会抛出一个超时错误并进入 catch() 中的回调函数。</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;js 轮询方法&lt;/h1&gt;
&lt;p&gt;很多时候我们会遇到使用轮询方法去处理一些逻辑，比如说扫码后轮询判断二维码是否被使用等情况。&lt;br&gt;
以下是一个基于 JavaScript 编写的一个简单轮询方法：&lt;br&gt;
&lt;img src=&quot;https://cdn.jsdelivr.net</summary>
      
    
    
    
    <category term="javaScript" scheme="https://www.wbdqc.cn/categories/javaScript/"/>
    
    
    <category term="轮询 JavaScript" scheme="https://www.wbdqc.cn/tags/%E8%BD%AE%E8%AF%A2-JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>uniapp微信小程序代码自动上传到微信后台</title>
    <link href="https://www.wbdqc.cn/posts/de4fbb6d.html"/>
    <id>https://www.wbdqc.cn/posts/de4fbb6d.html</id>
    <published>2023-12-04T02:35:02.000Z</published>
    <updated>2025-12-10T06:17:58.165Z</updated>
    
    <content type="html"><![CDATA[<h1>uniapp 微信小程序代码自动上传到微信后台</h1><h4 id="1-微信后台获取上传密钥和白名单配置">1.微信后台获取上传密钥和白名单配置</h4><ul><li>生成小程序代码上传密钥</li><li>IP 白名单配置（公网白名单）<br><img src="https://cdn.jsdelivr.net/npm/gk_drawing_bed/img/posts/de4fbb6d/wx.png" alt="img"></li></ul><p>生成完成之后下载到根目录或项目其他地方（一会用得到）</p><p>上传失败后，编译器会提示对应 ip</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">上传项目到微信平台失败</span><br><span class="line"><span class="title class_">Error</span>: &#123;<span class="string">&quot;errCode&quot;</span>:-<span class="number">10008</span>,<span class="string">&quot;errMsg&quot;</span>:<span class="string">&quot;invalid ip: 220.165.xxx.xx, reference: https://developers.weixin.qq.com/miniprogram/dev/devtools/ci.html&quot;</span>&#125;</span><br></pre></td></tr></table></figure><h4 id="2-脚本安装-npm、cnpm、yarn">2.脚本安装(npm、cnpm、yarn)</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i miniprogram-ci -D</span><br></pre></td></tr></table></figure><h4 id="3-创建配置文件">3.创建配置文件</h4><p>在项目根目录创建 <code>autoUpload.js</code>和添上面生成的密钥</p><p><img src="https://cdn.jsdelivr.net/npm/gk_drawing_bed/img/posts/de4fbb6d/02.png" alt="img"></p><p>autoUpload.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="keyword">import</span> config <span class="keyword">from</span> <span class="string">&quot;./utils/config&quot;</span>; <span class="comment">//配置文件,根据自己项目情况引入</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> ci = <span class="built_in">require</span>(<span class="string">&quot;miniprogram-ci&quot;</span>);</span><br><span class="line">(<span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> project = <span class="keyword">new</span> ci.<span class="title class_">Project</span>(&#123;</span><br><span class="line">    <span class="attr">appid</span>: config.<span class="property">appid</span>, <span class="comment">//appid</span></span><br><span class="line">    <span class="attr">type</span>: <span class="string">&quot;miniProgram&quot;</span>,</span><br><span class="line">    <span class="attr">projectPath</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;./unpackage/dist/build/mp-weixin&quot;</span>), <span class="comment">//项目路径,</span></span><br><span class="line">    <span class="attr">privateKeyPath</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;./private.wx143e******c97bf0.key&quot;</span>), <span class="comment">//密钥位置</span></span><br><span class="line">    <span class="attr">ignores</span>: [<span class="string">&quot;node_modules/**/*&quot;</span>],</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">const</span> uploadResult = <span class="keyword">await</span> ci</span><br><span class="line">    .<span class="title function_">upload</span>(&#123;</span><br><span class="line">      project,</span><br><span class="line">      <span class="attr">version</span>: <span class="string">&quot;1.0.2&quot;</span>,</span><br><span class="line">      <span class="attr">desc</span>: <span class="string">&quot;gk&quot;</span>,</span><br><span class="line">      <span class="attr">setting</span>: &#123;</span><br><span class="line">        <span class="attr">es6</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">minifyJS</span>: <span class="literal">true</span>, <span class="comment">// 压缩 JS 代码</span></span><br><span class="line">        <span class="attr">minifyWXML</span>: <span class="literal">true</span>, <span class="comment">//     压缩 WXML 代码</span></span><br><span class="line">        <span class="attr">minifyWXSS</span>: <span class="literal">true</span>, <span class="comment">//压缩 WXSS 代码</span></span><br><span class="line">        <span class="attr">minify</span>: <span class="literal">true</span>, <span class="comment">//压缩所有代码，对应小程序开发者工具的 &quot;压缩代码&quot;</span></span><br><span class="line">        <span class="comment">// codeProtect:false    对应小程序开发者工具的 &quot;代码保护&quot;</span></span><br><span class="line">        <span class="attr">autoPrefixWXSS</span>: <span class="literal">true</span>, <span class="comment">//对应小程序开发者工具的 &quot;样式自动补全&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">usingComponents</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">lazyCodeLoading</span>: <span class="string">&quot;requiredComponents&quot;</span>,</span><br><span class="line">      <span class="attr">onProgressUpdate</span>: <span class="variable language_">console</span>.<span class="property">log</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;成功&quot;</span>, res);</span><br><span class="line">      <span class="comment">// console.log(`版本$&#123;mainfest.versionName&#125;`)</span></span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">catch</span>(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;失败&quot;</span>, error);</span><br><span class="line">      <span class="keyword">throw</span> error;</span><br><span class="line">    &#125;);</span><br><span class="line">  <span class="comment">// console.log(uploadResult)</span></span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><h4 id="4-运行结果">4.运行结果</h4><p>上传代码<br><img src="https://cdn.jsdelivr.net/npm/gk_drawing_bed/img/posts/de4fbb6d/04.png" alt="img"></p><p>上传成功<br><img src="https://cdn.jsdelivr.net/npm/gk_drawing_bed/img/posts/de4fbb6d/03.png" alt="img"></p><p><a href="https://developers.weixin.qq.com/miniprogram/dev/devtools/ci.html#%E5%8A%9F%E8%83%BD">官网地址</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;uniapp 微信小程序代码自动上传到微信后台&lt;/h1&gt;
&lt;h4 id=&quot;1-微信后台获取上传密钥和白名单配置&quot;&gt;1.微信后台获取上传密钥和白名单配置&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;生成小程序代码上传密钥&lt;/li&gt;
&lt;li&gt;IP 白名单配置（公网白名单）&lt;br&gt;
&lt;img </summary>
      
    
    
    
    <category term="uniapp" scheme="https://www.wbdqc.cn/categories/uniapp/"/>
    
    
    <category term="uniapp 自动部署" scheme="https://www.wbdqc.cn/tags/uniapp-%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2/"/>
    
  </entry>
  
  <entry>
    <title>怪咖工作室·大数据平台</title>
    <link href="https://www.wbdqc.cn/posts/27fe6e15.html"/>
    <id>https://www.wbdqc.cn/posts/27fe6e15.html</id>
    <published>2023-11-20T03:48:31.000Z</published>
    <updated>2025-12-10T06:17:58.165Z</updated>
    
    <content type="html"><![CDATA[<h1>怪咖工作室·大数据平台</h1><p><span style="color:red;">温馨提示：以下内容，纯属娱乐，不喜勿喷，高抬贵手。</span></p><p>    部署完上一个项目之后 <a href="https://gk.www.wbdqc.top/web">演示地址</a>，颇有启发，想自行设计开发一个大数据平台，于是就管他三七二十一的，掏出原型工具就开干。</p><p>    通过时长 <code>两天半</code>的掉发后，设计终于有点丑了，哈哈……!。</p><p><img src="https://cdn.jsdelivr.net/npm/gk_drawing_bed/img/posts/27fe6e15/gk_draft.png" alt="show.jpg"></p><p>    经过反复的推敲、打磨后，成品成功的被扼杀了，呃…<br>    然，我并没有放弃，就一直条头发，又是一个 <code>两天半</code>的奋战后，出结果了。</p><h4 id="项目架构">项目架构</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Vue3.2 + Vite 4 + ECharts 5 + Tailwindcss</span><br></pre></td></tr></table></figure><p><a href="https://www.tailwindcss.cn">Tailwindcss</a></p><h4 id="演示效果">演示效果</h4><p>演示地址：<a href="https://gk.www.wbdqc.top/web/">https://gk.www.wbdqc.top/web/</a></p><p><img src="https://cdn.jsdelivr.net/npm/gk_drawing_bed/img/posts/27fe6e15/show.jpg" alt="show.jpg"></p><p>免责声明：本文只是作者的个人观点，不代表网站立场。 转载请注明出处。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;怪咖工作室·大数据平台&lt;/h1&gt;
&lt;p&gt;&lt;span style=&quot;color:red;&quot;&gt;温馨提示：以下内容，纯属娱乐，不喜勿喷，高抬贵手。&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;    部署完上一个项目之后 &lt;a href=&quot;https://gk.www.wbdqc.top/we</summary>
      
    
    
    
    <category term="Vue3" scheme="https://www.wbdqc.cn/categories/Vue3/"/>
    
    
    <category term="大数据 Vue3 ECharts Tailwindcss" scheme="https://www.wbdqc.cn/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE-Vue3-ECharts-Tailwindcss/"/>
    
  </entry>
  
  <entry>
    <title>怪咖大数据平台</title>
    <link href="https://www.wbdqc.cn/posts/ec921864.html"/>
    <id>https://www.wbdqc.cn/posts/ec921864.html</id>
    <published>2023-09-07T09:07:57.000Z</published>
    <updated>2025-12-10T06:17:58.165Z</updated>
    
    <content type="html"><![CDATA[<h1>怪咖大数据平台</h1><h4 id="介绍">介绍</h4><p>数据可视化大屏</p><p>本人想<code>“砖研”</code>可视化大屏已久，无奈没找到合适的资源（懒），曾用<code>html+css+jquery+echarts，vue + datav</code>敲了一些示例，布局真是让人头疼<br><img src="https://i.hd-r.cn/0e9965fc1eb4dbd168dc0f7eb0da5552.jpg" alt="Alt text"></p><p>一个偶然的机会，看到程序员 <code>Sunday老师</code> 的视频，瞬间开启新大陆</p><p>项目是基于 <code>Vue 3 + Vite 4 + ECharts 5 + Tailwindcss</code>开发的可视化项目</p><p>跟着 <code>Sunday 老师</code> 的视频一步一步敲出来（代码搬运工）</p><p>在这里再次感谢程序员 <code>Sunday 老师</code>的无私奉献，链接附上↓<br><img src="https://i.hd-r.cn/5fec7765ce12721a0c616234be89c8cb.jpg" alt="Alt text"></p><p><a href="https://www.bilibili.com/video/BV1yu411E7cm?p=1&amp;vd_source=4c524e8e506ca061863d2041deba2db8">2023 最新：ECharts 数据可视化大屏项目</a></p><h4 id="软件架构">软件架构</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Vue3.2 + Vite 4 + ECharts 5 + Tailwindcss</span><br></pre></td></tr></table></figure><p><a href="https://www.tailwindcss.cn">Tailwindcss</a></p><h4 id="安装教程">安装教程</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install</span><br></pre></td></tr></table></figure><h4 id="使用说明">使用说明</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run dev</span><br></pre></td></tr></table></figure><h4 id="演示效果">演示效果</h4><p>本地部署地址：<a href="http://gk.datav.com:89">http://gk.datav.com:89</a></p><!-- 演示地址1：[https://www.guaika.xyz](https://www.guaika.xyz) --><!-- 演示地址2：[http://gk.wbdqc.cn](http://gk.wbdqc.cn) --><p>演示地址：<a href="https://gk.www.wbdqc.top/">https://gk.www.wbdqc.top/</a></p><p><img src="https://cdn.jsdelivr.net/npm/gk_drawing_bed/img/posts/ec921864/gk_datav_demo.jpg" alt="gk_datav_demo.png"></p><h4 id="new—变异版本-移动版">new—变异版本-移动版</h4><ul><li>新增移动版，根窗口适配PC和移动版，只是做了简单的优化；</li><li>去除了可视化地图（移动端显示不全）；</li><li>新增了路由模块</li></ul><p><img src="https://cdn.jsdelivr.net/npm/gk_drawing_bed/img/posts/ec921864/m_datav.gif" alt="m_datav.gif"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;怪咖大数据平台&lt;/h1&gt;
&lt;h4 id=&quot;介绍&quot;&gt;介绍&lt;/h4&gt;
&lt;p&gt;数据可视化大屏&lt;/p&gt;
&lt;p&gt;本人想&lt;code&gt;“砖研”&lt;/code&gt;可视化大屏已久，无奈没找到合适的资源（懒），曾用&lt;code&gt;html+css+jquery+echarts，vue + datav</summary>
      
    
    
    
    <category term="Vue3" scheme="https://www.wbdqc.cn/categories/Vue3/"/>
    
    
    <category term="Vue" scheme="https://www.wbdqc.cn/tags/Vue/"/>
    
  </entry>
  
</feed>
